<html>
<head>
<title>OGRE: OgreVector3.h Source File - OGRE Documentation</title> <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"> 
<link type="text/css" rel="stylesheet" href="doxygen.css">
<link type="text/css" rel="stylesheet" href="tabs.css">
</head>

<body>
<!-- Generated by Doxygen 1.4.1 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="dirs.html">Directories</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="namespacemembers.html">Namespace&nbsp;Members</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<div class="nav">
<a class="el" href="dir_000000.html">OgreMain</a>&nbsp;/&nbsp;<a class="el" href="dir_000001.html">include</a></div>
<h1>OgreVector3.h</h1><a href="OgreVector3_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment">00001 <span class="comment">/*</span>
00002 <span class="comment">-----------------------------------------------------------------------------</span>
00003 <span class="comment">This source file is part of OGRE</span>
00004 <span class="comment">    (Object-oriented Graphics Rendering Engine)</span>
00005 <span class="comment">For the latest info, see http://www.ogre3d.org/</span>
00006 <span class="comment"></span>
00007 <span class="comment">Copyright (c) 2000-2006 Torus Knot Software Ltd</span>
00008 <span class="comment">Also see acknowledgements in Readme.html</span>
00009 <span class="comment"></span>
00010 <span class="comment">This program is free software; you can redistribute it and/or modify it under</span>
00011 <span class="comment">the terms of the GNU Lesser General Public License as published by the Free Software</span>
00012 <span class="comment">Foundation; either version 2 of the License, or (at your option) any later</span>
00013 <span class="comment">version.</span>
00014 <span class="comment"></span>
00015 <span class="comment">This program is distributed in the hope that it will be useful, but WITHOUT</span>
00016 <span class="comment">ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS</span>
00017 <span class="comment">FOR A PARTICULAR PURPOSE. See the GNU Lesser General Public License for more details.</span>
00018 <span class="comment"></span>
00019 <span class="comment">You should have received a copy of the GNU Lesser General Public License along with</span>
00020 <span class="comment">this program; if not, write to the Free Software Foundation, Inc., 59 Temple</span>
00021 <span class="comment">Place - Suite 330, Boston, MA 02111-1307, USA, or go to</span>
00022 <span class="comment">http://www.gnu.org/copyleft/lesser.txt.</span>
00023 <span class="comment"></span>
00024 <span class="comment">You may alternatively use this source under the terms of a specific version of</span>
00025 <span class="comment">the OGRE Unrestricted License provided you have obtained such a license from</span>
00026 <span class="comment">Torus Knot Software Ltd.</span>
00027 <span class="comment">-----------------------------------------------------------------------------</span>
00028 <span class="comment">*/</span>
00029 <span class="preprocessor">#ifndef __Vector3_H__</span>
00030 <span class="preprocessor"></span><span class="preprocessor">#define __Vector3_H__</span>
00031 <span class="preprocessor"></span>
00032 <span class="preprocessor">#include "<a class="code" href="OgrePrerequisites_8h.html">OgrePrerequisites.h</a>"</span>
00033 <span class="preprocessor">#include "<a class="code" href="OgreMath_8h.html">OgreMath.h</a>"</span>
00034 <span class="preprocessor">#include "<a class="code" href="OgreQuaternion_8h.html">OgreQuaternion.h</a>"</span>
00035 
00036 <span class="keyword">namespace </span>Ogre
00037 {
00038 
<a name="l00046"></a><a class="code" href="classOgre_1_1Vector3.html">00046</a>     <span class="keyword">class </span><a class="code" href="OgrePlatform_8h.html#a16">_OgreExport</a> Vector3
00047     {
00048     <span class="keyword">public</span>:
<a name="l00049"></a><a class="code" href="classOgre_1_1Vector3.html#Ogre_1_1Vector3o2">00049</a>         <a class="code" href="namespaceOgre.html#a351">Real</a> x, y, z;
00050 
00051     <span class="keyword">public</span>:
<a name="l00052"></a><a class="code" href="classOgre_1_1Vector3.html#Ogre_1_1Vector3a0">00052</a>         <span class="keyword">inline</span> Vector3()
00053         {
00054         }
00055 
<a name="l00056"></a><a class="code" href="classOgre_1_1Vector3.html#Ogre_1_1Vector3a1">00056</a>         <span class="keyword">inline</span> Vector3( <span class="keyword">const</span> Real fX, <span class="keyword">const</span> Real fY, <span class="keyword">const</span> Real fZ )
00057             : x( fX ), y( fY ), z( fZ )
00058         {
00059         }
00060 
<a name="l00061"></a><a class="code" href="classOgre_1_1Vector3.html#Ogre_1_1Vector3a2">00061</a>         <span class="keyword">inline</span> <span class="keyword">explicit</span> Vector3( <span class="keyword">const</span> Real afCoordinate[3] )
00062             : x( afCoordinate[0] ),
00063               y( afCoordinate[1] ),
00064               z( afCoordinate[2] )
00065         {
00066         }
00067 
<a name="l00068"></a><a class="code" href="classOgre_1_1Vector3.html#Ogre_1_1Vector3a3">00068</a>         <span class="keyword">inline</span> <span class="keyword">explicit</span> Vector3( <span class="keyword">const</span> <span class="keywordtype">int</span> afCoordinate[3] )
00069         {
00070             x = (<a class="code" href="namespaceOgre.html#a351">Real</a>)afCoordinate[0];
00071             y = (<a class="code" href="namespaceOgre.html#a351">Real</a>)afCoordinate[1];
00072             z = (<a class="code" href="namespaceOgre.html#a351">Real</a>)afCoordinate[2];
00073         }
00074 
<a name="l00075"></a><a class="code" href="classOgre_1_1Vector3.html#Ogre_1_1Vector3a4">00075</a>         <span class="keyword">inline</span> <span class="keyword">explicit</span> Vector3( Real* <span class="keyword">const</span> r )
00076             : x( r[0] ), y( r[1] ), z( r[2] )
00077         {
00078         }
00079 
<a name="l00080"></a><a class="code" href="classOgre_1_1Vector3.html#Ogre_1_1Vector3a5">00080</a>         <span class="keyword">inline</span> <span class="keyword">explicit</span> Vector3( <span class="keyword">const</span> Real scaler )
00081             : x( scaler )
00082             , y( scaler )
00083             , z( scaler )
00084         {
00085         }
00086 
00087 
<a name="l00088"></a><a class="code" href="classOgre_1_1Vector3.html#Ogre_1_1Vector3a6">00088</a>         <span class="keyword">inline</span> Vector3( <span class="keyword">const</span> Vector3&amp; rkVector )
00089             : x( rkVector.x ), y( rkVector.y ), z( rkVector.z )
00090         {
00091         }
00092 
<a name="l00093"></a><a class="code" href="classOgre_1_1Vector3.html#Ogre_1_1Vector3a7">00093</a>         <span class="keyword">inline</span> <a class="code" href="namespaceOgre.html#a351">Real</a> operator [] ( <span class="keyword">const</span> size_t i )<span class="keyword"> const</span>
00094 <span class="keyword">        </span>{
00095             assert( i &lt; 3 );
00096 
00097             <span class="keywordflow">return</span> *(&amp;x+i);
00098         }
00099 
<a name="l00100"></a><a class="code" href="classOgre_1_1Vector3.html#Ogre_1_1Vector3a8">00100</a>         <span class="keyword">inline</span> <a class="code" href="namespaceOgre.html#a351">Real</a>&amp; operator [] ( <span class="keyword">const</span> size_t i )
00101         {
00102             assert( i &lt; 3 );
00103 
00104             <span class="keywordflow">return</span> *(&amp;x+i);
00105         }
<a name="l00107"></a><a class="code" href="classOgre_1_1Vector3.html#Ogre_1_1Vector3a9">00107</a>         <span class="keyword">inline</span> <a class="code" href="namespaceOgre.html#a351">Real</a>* ptr()
00108         {
00109             <span class="keywordflow">return</span> &amp;x;
00110         }
<a name="l00112"></a><a class="code" href="classOgre_1_1Vector3.html#Ogre_1_1Vector3a10">00112</a>         <span class="keyword">inline</span> <span class="keyword">const</span> <a class="code" href="namespaceOgre.html#a351">Real</a>* ptr()<span class="keyword"> const</span>
00113 <span class="keyword">        </span>{
00114             <span class="keywordflow">return</span> &amp;x;
00115         }
00116 
<a name="l00121"></a><a class="code" href="classOgre_1_1Vector3.html#Ogre_1_1Vector3a11">00121</a>         <span class="keyword">inline</span> Vector3&amp; operator = ( <span class="keyword">const</span> Vector3&amp; rkVector )
00122         {
00123             x = rkVector.x;
00124             y = rkVector.y;
00125             z = rkVector.z;
00126 
00127             <span class="keywordflow">return</span> *<span class="keyword">this</span>;
00128         }
00129 
<a name="l00130"></a><a class="code" href="classOgre_1_1Vector3.html#Ogre_1_1Vector3a12">00130</a>         <span class="keyword">inline</span> Vector3&amp; operator = ( <span class="keyword">const</span> Real fScaler )
00131         {
00132             x = fScaler;
00133             y = fScaler;
00134             z = fScaler;
00135 
00136             <span class="keywordflow">return</span> *<span class="keyword">this</span>;
00137         }
00138 
<a name="l00139"></a><a class="code" href="classOgre_1_1Vector3.html#Ogre_1_1Vector3a13">00139</a>         <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="namespaceOgre.html#a507">operator == </a>( <span class="keyword">const</span> Vector3&amp; rkVector )<span class="keyword"> const</span>
00140 <span class="keyword">        </span>{
00141             <span class="keywordflow">return</span> ( x == rkVector.x &amp;&amp; y == rkVector.y &amp;&amp; z == rkVector.z );
00142         }
00143 
<a name="l00144"></a><a class="code" href="classOgre_1_1Vector3.html#Ogre_1_1Vector3a14">00144</a>         <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="namespaceOgre.html#a508">operator != </a>( <span class="keyword">const</span> Vector3&amp; rkVector )<span class="keyword"> const</span>
00145 <span class="keyword">        </span>{
00146             <span class="keywordflow">return</span> ( x != rkVector.x || y != rkVector.y || z != rkVector.z );
00147         }
00148 
00149         <span class="comment">// arithmetic operations</span>
<a name="l00150"></a><a class="code" href="classOgre_1_1Vector3.html#Ogre_1_1Vector3a15">00150</a>         <span class="keyword">inline</span> Vector3 operator + ( <span class="keyword">const</span> Vector3&amp; rkVector )<span class="keyword"> const</span>
00151 <span class="keyword">        </span>{
00152             <span class="keywordflow">return</span> Vector3(
00153                 x + rkVector.x,
00154                 y + rkVector.y,
00155                 z + rkVector.z);
00156         }
00157 
<a name="l00158"></a><a class="code" href="classOgre_1_1Vector3.html#Ogre_1_1Vector3a16">00158</a>         <span class="keyword">inline</span> Vector3 operator - ( <span class="keyword">const</span> Vector3&amp; rkVector )<span class="keyword"> const</span>
00159 <span class="keyword">        </span>{
00160             <span class="keywordflow">return</span> Vector3(
00161                 x - rkVector.x,
00162                 y - rkVector.y,
00163                 z - rkVector.z);
00164         }
00165 
<a name="l00166"></a><a class="code" href="classOgre_1_1Vector3.html#Ogre_1_1Vector3a17">00166</a>         <span class="keyword">inline</span> Vector3 <a class="code" href="namespaceOgre.html#a499">operator * </a>( <span class="keyword">const</span> Real fScalar )<span class="keyword"> const</span>
00167 <span class="keyword">        </span>{
00168             <span class="keywordflow">return</span> Vector3(
00169                 x * fScalar,
00170                 y * fScalar,
00171                 z * fScalar);
00172         }
00173 
<a name="l00174"></a><a class="code" href="classOgre_1_1Vector3.html#Ogre_1_1Vector3a18">00174</a>         <span class="keyword">inline</span> Vector3 <a class="code" href="namespaceOgre.html#a499">operator * </a>( <span class="keyword">const</span> Vector3&amp; rhs)<span class="keyword"> const</span>
00175 <span class="keyword">        </span>{
00176             <span class="keywordflow">return</span> Vector3(
00177                 x * rhs.x,
00178                 y * rhs.y,
00179                 z * rhs.z);
00180         }
00181 
<a name="l00182"></a><a class="code" href="classOgre_1_1Vector3.html#Ogre_1_1Vector3a19">00182</a>         <span class="keyword">inline</span> Vector3 <a class="code" href="namespaceOgre.html#a500">operator / </a>( <span class="keyword">const</span> Real fScalar )<span class="keyword"> const</span>
00183 <span class="keyword">        </span>{
00184             assert( fScalar != 0.0 );
00185 
00186             <a class="code" href="namespaceOgre.html#a351">Real</a> fInv = 1.0 / fScalar;
00187 
00188             <span class="keywordflow">return</span> Vector3(
00189                 x * fInv,
00190                 y * fInv,
00191                 z * fInv);
00192         }
00193 
<a name="l00194"></a><a class="code" href="classOgre_1_1Vector3.html#Ogre_1_1Vector3a20">00194</a>         <span class="keyword">inline</span> Vector3 <a class="code" href="namespaceOgre.html#a500">operator / </a>( <span class="keyword">const</span> Vector3&amp; rhs)<span class="keyword"> const</span>
00195 <span class="keyword">        </span>{
00196             <span class="keywordflow">return</span> Vector3(
00197                 x / rhs.x,
00198                 y / rhs.y,
00199                 z / rhs.z);
00200         }
00201 
<a name="l00202"></a><a class="code" href="classOgre_1_1Vector3.html#Ogre_1_1Vector3a21">00202</a>         <span class="keyword">inline</span> <span class="keyword">const</span> Vector3&amp; operator + ()<span class="keyword"> const</span>
00203 <span class="keyword">        </span>{
00204             <span class="keywordflow">return</span> *<span class="keyword">this</span>;
00205         }
00206 
<a name="l00207"></a><a class="code" href="classOgre_1_1Vector3.html#Ogre_1_1Vector3a22">00207</a>         <span class="keyword">inline</span> Vector3 operator - ()<span class="keyword"> const</span>
00208 <span class="keyword">        </span>{
00209             <span class="keywordflow">return</span> Vector3(-x, -y, -z);
00210         }
00211 
00212         <span class="comment">// overloaded operators to help Vector3</span>
<a name="l00213"></a><a class="code" href="classOgre_1_1Vector3.html#Ogre_1_1Vector3n0">00213</a>         <span class="keyword">inline</span> <span class="keyword">friend</span> Vector3 <a class="code" href="namespaceOgre.html#a499">operator * </a>( <span class="keyword">const</span> Real fScalar, <span class="keyword">const</span> Vector3&amp; rkVector )
00214         {
00215             <span class="keywordflow">return</span> Vector3(
00216                 fScalar * rkVector.x,
00217                 fScalar * rkVector.y,
00218                 fScalar * rkVector.z);
00219         }
00220 
<a name="l00221"></a><a class="code" href="classOgre_1_1Vector3.html#Ogre_1_1Vector3n1">00221</a>         <span class="keyword">inline</span> <span class="keyword">friend</span> Vector3 <a class="code" href="namespaceOgre.html#a500">operator / </a>( <span class="keyword">const</span> Real fScalar, <span class="keyword">const</span> Vector3&amp; rkVector )
00222         {
00223             <span class="keywordflow">return</span> Vector3(
00224                 fScalar / rkVector.x,
00225                 fScalar / rkVector.y,
00226                 fScalar / rkVector.z);
00227         }
00228 
<a name="l00229"></a><a class="code" href="classOgre_1_1Vector3.html#Ogre_1_1Vector3n2">00229</a>         <span class="keyword">inline</span> <span class="keyword">friend</span> Vector3 operator + (<span class="keyword">const</span> Vector3&amp; lhs, <span class="keyword">const</span> Real rhs)
00230         {
00231             <span class="keywordflow">return</span> Vector3(
00232                 lhs.x + rhs,
00233                 lhs.y + rhs,
00234                 lhs.z + rhs);
00235         }
00236 
<a name="l00237"></a><a class="code" href="classOgre_1_1Vector3.html#Ogre_1_1Vector3n3">00237</a>         <span class="keyword">inline</span> <span class="keyword">friend</span> Vector3 operator + (<span class="keyword">const</span> Real lhs, <span class="keyword">const</span> Vector3&amp; rhs)
00238         {
00239             <span class="keywordflow">return</span> Vector3(
00240                 lhs + rhs.x,
00241                 lhs + rhs.y,
00242                 lhs + rhs.z);
00243         }
00244 
<a name="l00245"></a><a class="code" href="classOgre_1_1Vector3.html#Ogre_1_1Vector3n4">00245</a>         <span class="keyword">inline</span> <span class="keyword">friend</span> Vector3 operator - (<span class="keyword">const</span> Vector3&amp; lhs, <span class="keyword">const</span> Real rhs)
00246         {
00247             <span class="keywordflow">return</span> Vector3(
00248                 lhs.x - rhs,
00249                 lhs.y - rhs,
00250                 lhs.z - rhs);
00251         }
00252 
<a name="l00253"></a><a class="code" href="classOgre_1_1Vector3.html#Ogre_1_1Vector3n5">00253</a>         <span class="keyword">inline</span> <span class="keyword">friend</span> Vector3 operator - (<span class="keyword">const</span> Real lhs, <span class="keyword">const</span> Vector3&amp; rhs)
00254         {
00255             <span class="keywordflow">return</span> Vector3(
00256                 lhs - rhs.x,
00257                 lhs - rhs.y,
00258                 lhs - rhs.z);
00259         }
00260 
00261         <span class="comment">// arithmetic updates</span>
<a name="l00262"></a><a class="code" href="classOgre_1_1Vector3.html#Ogre_1_1Vector3a23">00262</a>         <span class="keyword">inline</span> Vector3&amp; operator += ( <span class="keyword">const</span> Vector3&amp; rkVector )
00263         {
00264             x += rkVector.x;
00265             y += rkVector.y;
00266             z += rkVector.z;
00267 
00268             <span class="keywordflow">return</span> *<span class="keyword">this</span>;
00269         }
00270 
<a name="l00271"></a><a class="code" href="classOgre_1_1Vector3.html#Ogre_1_1Vector3a24">00271</a>         <span class="keyword">inline</span> Vector3&amp; operator += ( <span class="keyword">const</span> Real fScalar )
00272         {
00273             x += fScalar;
00274             y += fScalar;
00275             z += fScalar;
00276             <span class="keywordflow">return</span> *<span class="keyword">this</span>;
00277         }
00278 
<a name="l00279"></a><a class="code" href="classOgre_1_1Vector3.html#Ogre_1_1Vector3a25">00279</a>         <span class="keyword">inline</span> Vector3&amp; operator -= ( <span class="keyword">const</span> Vector3&amp; rkVector )
00280         {
00281             x -= rkVector.x;
00282             y -= rkVector.y;
00283             z -= rkVector.z;
00284 
00285             <span class="keywordflow">return</span> *<span class="keyword">this</span>;
00286         }
00287 
<a name="l00288"></a><a class="code" href="classOgre_1_1Vector3.html#Ogre_1_1Vector3a26">00288</a>         <span class="keyword">inline</span> Vector3&amp; operator -= ( <span class="keyword">const</span> Real fScalar )
00289         {
00290             x -= fScalar;
00291             y -= fScalar;
00292             z -= fScalar;
00293             <span class="keywordflow">return</span> *<span class="keyword">this</span>;
00294         }
00295 
<a name="l00296"></a><a class="code" href="classOgre_1_1Vector3.html#Ogre_1_1Vector3a27">00296</a>         <span class="keyword">inline</span> Vector3&amp; operator *= ( <span class="keyword">const</span> Real fScalar )
00297         {
00298             x *= fScalar;
00299             y *= fScalar;
00300             z *= fScalar;
00301             <span class="keywordflow">return</span> *<span class="keyword">this</span>;
00302         }
00303 
<a name="l00304"></a><a class="code" href="classOgre_1_1Vector3.html#Ogre_1_1Vector3a28">00304</a>         <span class="keyword">inline</span> Vector3&amp; operator *= ( <span class="keyword">const</span> Vector3&amp; rkVector )
00305         {
00306             x *= rkVector.x;
00307             y *= rkVector.y;
00308             z *= rkVector.z;
00309 
00310             <span class="keywordflow">return</span> *<span class="keyword">this</span>;
00311         }
00312 
<a name="l00313"></a><a class="code" href="classOgre_1_1Vector3.html#Ogre_1_1Vector3a29">00313</a>         <span class="keyword">inline</span> Vector3&amp; operator /= ( <span class="keyword">const</span> Real fScalar )
00314         {
00315             assert( fScalar != 0.0 );
00316 
00317             <a class="code" href="namespaceOgre.html#a351">Real</a> fInv = 1.0 / fScalar;
00318 
00319             x *= fInv;
00320             y *= fInv;
00321             z *= fInv;
00322 
00323             <span class="keywordflow">return</span> *<span class="keyword">this</span>;
00324         }
00325 
<a name="l00326"></a><a class="code" href="classOgre_1_1Vector3.html#Ogre_1_1Vector3a30">00326</a>         <span class="keyword">inline</span> Vector3&amp; operator /= ( <span class="keyword">const</span> Vector3&amp; rkVector )
00327         {
00328             x /= rkVector.x;
00329             y /= rkVector.y;
00330             z /= rkVector.z;
00331 
00332             <span class="keywordflow">return</span> *<span class="keyword">this</span>;
00333         }
00334 
00335 
<a name="l00343"></a><a class="code" href="classOgre_1_1Vector3.html#Ogre_1_1Vector3a31">00343</a>         <span class="keyword">inline</span> <a class="code" href="namespaceOgre.html#a351">Real</a> length ()<span class="keyword"> const</span>
00344 <span class="keyword">        </span>{
00345             <span class="keywordflow">return</span> Math::Sqrt( x * x + y * y + z * z );
00346         }
00347 
<a name="l00358"></a><a class="code" href="classOgre_1_1Vector3.html#Ogre_1_1Vector3a32">00358</a>         <span class="keyword">inline</span> <a class="code" href="namespaceOgre.html#a351">Real</a> squaredLength ()<span class="keyword"> const</span>
00359 <span class="keyword">        </span>{
00360             <span class="keywordflow">return</span> x * x + y * y + z * z;
00361         }
00362 
<a name="l00370"></a><a class="code" href="classOgre_1_1Vector3.html#Ogre_1_1Vector3a33">00370</a>         <span class="keyword">inline</span> <a class="code" href="namespaceOgre.html#a351">Real</a> distance(<span class="keyword">const</span> Vector3&amp; rhs)<span class="keyword"> const</span>
00371 <span class="keyword">        </span>{
00372             <span class="keywordflow">return</span> (*<span class="keyword">this</span> - rhs).length();
00373         }
00374 
<a name="l00385"></a><a class="code" href="classOgre_1_1Vector3.html#Ogre_1_1Vector3a34">00385</a>         <span class="keyword">inline</span> <a class="code" href="namespaceOgre.html#a351">Real</a> squaredDistance(<span class="keyword">const</span> Vector3&amp; rhs)<span class="keyword"> const</span>
00386 <span class="keyword">        </span>{
00387             <span class="keywordflow">return</span> (*<span class="keyword">this</span> - rhs).squaredLength();
00388         }
00389 
<a name="l00404"></a><a class="code" href="classOgre_1_1Vector3.html#Ogre_1_1Vector3a35">00404</a>         <span class="keyword">inline</span> <a class="code" href="namespaceOgre.html#a351">Real</a> dotProduct(<span class="keyword">const</span> Vector3&amp; vec)<span class="keyword"> const</span>
00405 <span class="keyword">        </span>{
00406             <span class="keywordflow">return</span> x * vec.x + y * vec.y + z * vec.z;
00407         }
00408 
<a name="l00419"></a><a class="code" href="classOgre_1_1Vector3.html#Ogre_1_1Vector3a36">00419</a>         <span class="keyword">inline</span> <a class="code" href="namespaceOgre.html#a351">Real</a> absDotProduct(<span class="keyword">const</span> Vector3&amp; vec)<span class="keyword"> const</span>
00420 <span class="keyword">        </span>{
00421             <span class="keywordflow">return</span> Math::Abs(x * vec.x) + Math::Abs(y * vec.y) + Math::Abs(z * vec.z);
00422         }
00423 
<a name="l00433"></a><a class="code" href="classOgre_1_1Vector3.html#Ogre_1_1Vector3a37">00433</a>         <span class="keyword">inline</span> <a class="code" href="namespaceOgre.html#a351">Real</a> normalise()
00434         {
00435             <a class="code" href="namespaceOgre.html#a351">Real</a> fLength = Math::Sqrt( x * x + y * y + z * z );
00436 
00437             <span class="comment">// Will also work for zero-sized vectors, but will change nothing</span>
00438             <span class="keywordflow">if</span> ( fLength &gt; 1e-08 )
00439             {
00440                 <a class="code" href="namespaceOgre.html#a351">Real</a> fInvLength = 1.0 / fLength;
00441                 x *= fInvLength;
00442                 y *= fInvLength;
00443                 z *= fInvLength;
00444             }
00445 
00446             <span class="keywordflow">return</span> fLength;
00447         }
00448 
<a name="l00477"></a><a class="code" href="classOgre_1_1Vector3.html#Ogre_1_1Vector3a38">00477</a>         <span class="keyword">inline</span> Vector3 crossProduct( <span class="keyword">const</span> Vector3&amp; rkVector )<span class="keyword"> const</span>
00478 <span class="keyword">        </span>{
00479             <span class="keywordflow">return</span> Vector3(
00480                 y * rkVector.z - z * rkVector.y,
00481                 z * rkVector.x - x * rkVector.z,
00482                 x * rkVector.y - y * rkVector.x);
00483         }
00484 
<a name="l00488"></a><a class="code" href="classOgre_1_1Vector3.html#Ogre_1_1Vector3a39">00488</a>         <span class="keyword">inline</span> Vector3 midPoint( <span class="keyword">const</span> Vector3&amp; vec )<span class="keyword"> const</span>
00489 <span class="keyword">        </span>{
00490             <span class="keywordflow">return</span> Vector3(
00491                 ( x + vec.x ) * 0.5,
00492                 ( y + vec.y ) * 0.5,
00493                 ( z + vec.z ) * 0.5 );
00494         }
00495 
<a name="l00499"></a><a class="code" href="classOgre_1_1Vector3.html#Ogre_1_1Vector3a40">00499</a>         <span class="keyword">inline</span> <span class="keywordtype">bool</span> operator &lt; ( <span class="keyword">const</span> Vector3&amp; rhs )<span class="keyword"> const</span>
00500 <span class="keyword">        </span>{
00501             <span class="keywordflow">if</span>( x &lt; rhs.x &amp;&amp; y &lt; rhs.y &amp;&amp; z &lt; rhs.z )
00502                 <span class="keywordflow">return</span> <span class="keyword">true</span>;
00503             <span class="keywordflow">return</span> <span class="keyword">false</span>;
00504         }
00505 
<a name="l00509"></a><a class="code" href="classOgre_1_1Vector3.html#Ogre_1_1Vector3a41">00509</a>         <span class="keyword">inline</span> <span class="keywordtype">bool</span> operator &gt; ( <span class="keyword">const</span> Vector3&amp; rhs )<span class="keyword"> const</span>
00510 <span class="keyword">        </span>{
00511             <span class="keywordflow">if</span>( x &gt; rhs.x &amp;&amp; y &gt; rhs.y &amp;&amp; z &gt; rhs.z )
00512                 <span class="keywordflow">return</span> <span class="keyword">true</span>;
00513             <span class="keywordflow">return</span> <span class="keyword">false</span>;
00514         }
00515 
<a name="l00523"></a><a class="code" href="classOgre_1_1Vector3.html#Ogre_1_1Vector3a42">00523</a>         <span class="keyword">inline</span> <span class="keywordtype">void</span> makeFloor( <span class="keyword">const</span> Vector3&amp; cmp )
00524         {
00525             <span class="keywordflow">if</span>( cmp.x &lt; x ) x = cmp.x;
00526             <span class="keywordflow">if</span>( cmp.y &lt; y ) y = cmp.y;
00527             <span class="keywordflow">if</span>( cmp.z &lt; z ) z = cmp.z;
00528         }
00529 
<a name="l00537"></a><a class="code" href="classOgre_1_1Vector3.html#Ogre_1_1Vector3a43">00537</a>         <span class="keyword">inline</span> <span class="keywordtype">void</span> makeCeil( <span class="keyword">const</span> Vector3&amp; cmp )
00538         {
00539             <span class="keywordflow">if</span>( cmp.x &gt; x ) x = cmp.x;
00540             <span class="keywordflow">if</span>( cmp.y &gt; y ) y = cmp.y;
00541             <span class="keywordflow">if</span>( cmp.z &gt; z ) z = cmp.z;
00542         }
00543 
<a name="l00551"></a><a class="code" href="classOgre_1_1Vector3.html#Ogre_1_1Vector3a44">00551</a>         <span class="keyword">inline</span> Vector3 perpendicular(<span class="keywordtype">void</span>)<span class="keyword"> const</span>
00552 <span class="keyword">        </span>{
00553             <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="namespaceOgre.html#a351">Real</a> fSquareZero = 1e-06 * 1e-06;
00554 
00555             Vector3 perp = this-&gt;crossProduct( Vector3::UNIT_X );
00556 
00557             <span class="comment">// Check length</span>
00558             <span class="keywordflow">if</span>( perp.<a class="code" href="classOgre_1_1Vector3.html#Ogre_1_1Vector3a32">squaredLength</a>() &lt; fSquareZero )
00559             {
00560                 <span class="comment">/* This vector is the Y axis multiplied by a scalar, so we have</span>
00561 <span class="comment">                   to use another axis.</span>
00562 <span class="comment">                */</span>
00563                 perp = this-&gt;crossProduct( Vector3::UNIT_Y );
00564             }
00565             perp.<a class="code" href="classOgre_1_1Vector3.html#Ogre_1_1Vector3a37">normalise</a>();
00566 
00567             <span class="keywordflow">return</span> perp;
00568         }
<a name="l00588"></a><a class="code" href="classOgre_1_1Vector3.html#Ogre_1_1Vector3a45">00588</a>         <span class="keyword">inline</span> Vector3 randomDeviant(
00589             <span class="keyword">const</span> <a class="code" href="classOgre_1_1Radian.html">Radian</a>&amp; angle,
00590             <span class="keyword">const</span> Vector3&amp; up = Vector3::ZERO )<span class="keyword"> const</span>
00591 <span class="keyword">        </span>{
00592             Vector3 newUp;
00593 
00594             <span class="keywordflow">if</span> (up == Vector3::ZERO)
00595             {
00596                 <span class="comment">// Generate an up vector</span>
00597                 newUp = this-&gt;perpendicular();
00598             }
00599             <span class="keywordflow">else</span>
00600             {
00601                 newUp = up;
00602             }
00603 
00604             <span class="comment">// Rotate up vector by random amount around this</span>
00605             <a class="code" href="classOgre_1_1Quaternion.html">Quaternion</a> q;
00606             q.<a class="code" href="classOgre_1_1Quaternion.html#Ogre_1_1Quaterniona13">FromAngleAxis</a>( <a class="code" href="classOgre_1_1Radian.html">Radian</a>(Math::UnitRandom() * Math::TWO_PI), *<span class="keyword">this</span> );
00607             newUp = q * newUp;
00608 
00609             <span class="comment">// Finally rotate this by given angle around randomised up</span>
00610             q.<a class="code" href="classOgre_1_1Quaternion.html#Ogre_1_1Quaterniona13">FromAngleAxis</a>( angle, newUp );
00611             <span class="keywordflow">return</span> q * (*this);
00612         }
00613 <span class="preprocessor">#ifndef OGRE_FORCE_ANGLE_TYPES</span>
00614 <span class="preprocessor"></span>        <span class="keyword">inline</span> Vector3 randomDeviant(
00615             Real angle,
00616             <span class="keyword">const</span> Vector3&amp; up = Vector3::ZERO )<span class="keyword"> const</span>
00617 <span class="keyword">        </span>{
00618             <span class="keywordflow">return</span> randomDeviant ( <a class="code" href="classOgre_1_1Radian.html">Radian</a>(angle), up );
00619         }
00620 <span class="preprocessor">#endif//OGRE_FORCE_ANGLE_TYPES</span>
00621 <span class="preprocessor"></span>
<a name="l00630"></a><a class="code" href="classOgre_1_1Vector3.html#Ogre_1_1Vector3a46">00630</a>         <a class="code" href="classOgre_1_1Quaternion.html">Quaternion</a> getRotationTo(<span class="keyword">const</span> Vector3&amp; dest,
00631             <span class="keyword">const</span> Vector3&amp; fallbackAxis = Vector3::ZERO)<span class="keyword"> const</span>
00632 <span class="keyword">        </span>{
00633             <span class="comment">// Based on Stan Melax's article in Game Programming Gems</span>
00634             <a class="code" href="classOgre_1_1Quaternion.html">Quaternion</a> q;
00635             <span class="comment">// Copy, since cannot modify local</span>
00636             Vector3 v0 = *<span class="keyword">this</span>;
00637             Vector3 v1 = dest;
00638             v0.<a class="code" href="classOgre_1_1Vector3.html#Ogre_1_1Vector3a37">normalise</a>();
00639             v1.<a class="code" href="classOgre_1_1Vector3.html#Ogre_1_1Vector3a37">normalise</a>();
00640 
00641             <a class="code" href="namespaceOgre.html#a351">Real</a> d = v0.<a class="code" href="classOgre_1_1Vector3.html#Ogre_1_1Vector3a35">dotProduct</a>(v1);
00642             <span class="comment">// If dot == 1, vectors are the same</span>
00643             <span class="keywordflow">if</span> (d &gt;= 1.0f)
00644             {
00645                 <span class="keywordflow">return</span> Quaternion::IDENTITY;
00646             }
00647             <span class="keywordflow">if</span> (d &lt; (1e-6f - 1.0f))
00648             {
00649                 <span class="keywordflow">if</span> (fallbackAxis != Vector3::ZERO)
00650                 {
00651                     <span class="comment">// rotate 180 degrees about the fallback axis</span>
00652                     q.<a class="code" href="classOgre_1_1Quaternion.html#Ogre_1_1Quaterniona13">FromAngleAxis</a>(<a class="code" href="classOgre_1_1Radian.html">Radian</a>(Math::PI), fallbackAxis);
00653                 }
00654                 <span class="keywordflow">else</span>
00655                 {
00656                     <span class="comment">// Generate an axis</span>
00657                     Vector3 axis = Vector3::UNIT_X.crossProduct(*<span class="keyword">this</span>);
00658                     <span class="keywordflow">if</span> (axis.<a class="code" href="classOgre_1_1Vector3.html#Ogre_1_1Vector3a47">isZeroLength</a>()) <span class="comment">// pick another if colinear</span>
00659                         axis = Vector3::UNIT_Y.<a class="code" href="classOgre_1_1Vector3.html#Ogre_1_1Vector3a38">crossProduct</a>(*<span class="keyword">this</span>);
00660                     axis.<a class="code" href="classOgre_1_1Vector3.html#Ogre_1_1Vector3a37">normalise</a>();
00661                     q.<a class="code" href="classOgre_1_1Quaternion.html#Ogre_1_1Quaterniona13">FromAngleAxis</a>(<a class="code" href="classOgre_1_1Radian.html">Radian</a>(Math::PI), axis);
00662                 }
00663             }
00664             <span class="keywordflow">else</span>
00665             {
00666                 <a class="code" href="namespaceOgre.html#a351">Real</a> s = Math::Sqrt( (1+d)*2 );
00667                 <a class="code" href="namespaceOgre.html#a351">Real</a> invs = 1 / s;
00668 
00669                 Vector3 c = v0.<a class="code" href="classOgre_1_1Vector3.html#Ogre_1_1Vector3a38">crossProduct</a>(v1);
00670 
00671                 q.<a class="code" href="classOgre_1_1Quaternion.html#Ogre_1_1Quaterniono1">x</a> = c.<a class="code" href="classOgre_1_1Vector3.html#Ogre_1_1Vector3o0">x</a> * invs;
00672                 q.<a class="code" href="classOgre_1_1Quaternion.html#Ogre_1_1Quaterniono2">y</a> = c.<a class="code" href="classOgre_1_1Vector3.html#Ogre_1_1Vector3o1">y</a> * invs;
00673                 q.<a class="code" href="classOgre_1_1Quaternion.html#Ogre_1_1Quaterniono3">z</a> = c.<a class="code" href="classOgre_1_1Vector3.html#Ogre_1_1Vector3o2">z</a> * invs;
00674                 q.<a class="code" href="classOgre_1_1Quaternion.html#Ogre_1_1Quaterniono0">w</a> = s * 0.5;
00675                 q.<a class="code" href="classOgre_1_1Quaternion.html#Ogre_1_1Quaterniona33">normalise</a>();
00676             }
00677             <span class="keywordflow">return</span> q;
00678         }
00679 
<a name="l00681"></a><a class="code" href="classOgre_1_1Vector3.html#Ogre_1_1Vector3a47">00681</a>         <span class="keyword">inline</span> <span class="keywordtype">bool</span> isZeroLength(<span class="keywordtype">void</span>)<span class="keyword"> const</span>
00682 <span class="keyword">        </span>{
00683             <a class="code" href="namespaceOgre.html#a351">Real</a> sqlen = (x * x) + (y * y) + (z * z);
00684             <span class="keywordflow">return</span> (sqlen &lt; (1e-06 * 1e-06));
00685 
00686         }
00687 
<a name="l00690"></a><a class="code" href="classOgre_1_1Vector3.html#Ogre_1_1Vector3a48">00690</a>         <span class="keyword">inline</span> Vector3 normalisedCopy(<span class="keywordtype">void</span>)<span class="keyword"> const</span>
00691 <span class="keyword">        </span>{
00692             Vector3 ret = *<span class="keyword">this</span>;
00693             ret.<a class="code" href="classOgre_1_1Vector3.html#Ogre_1_1Vector3a37">normalise</a>();
00694             <span class="keywordflow">return</span> ret;
00695         }
00696 
<a name="l00700"></a><a class="code" href="classOgre_1_1Vector3.html#Ogre_1_1Vector3a49">00700</a>         <span class="keyword">inline</span> Vector3 reflect(<span class="keyword">const</span> Vector3&amp; normal)<span class="keyword"> const</span>
00701 <span class="keyword">        </span>{
00702             <span class="keywordflow">return</span> Vector3( *<span class="keyword">this</span> - ( 2 * this-&gt;dotProduct(normal) * normal ) );
00703         }
00704 
<a name="l00711"></a><a class="code" href="classOgre_1_1Vector3.html#Ogre_1_1Vector3a50">00711</a>         <span class="keyword">inline</span> <span class="keywordtype">bool</span> positionEquals(<span class="keyword">const</span> Vector3&amp; rhs, Real tolerance = 1e-03)<span class="keyword"> const</span>
00712 <span class="keyword">        </span>{
00713             <span class="keywordflow">return</span> Math::RealEqual(x, rhs.x, tolerance) &amp;&amp;
00714                 Math::RealEqual(y, rhs.y, tolerance) &amp;&amp;
00715                 Math::RealEqual(z, rhs.z, tolerance);
00716 
00717         }
00718 
<a name="l00725"></a><a class="code" href="classOgre_1_1Vector3.html#Ogre_1_1Vector3a51">00725</a>         <span class="keyword">inline</span> <span class="keywordtype">bool</span> positionCloses(<span class="keyword">const</span> Vector3&amp; rhs, Real tolerance = 1e-03f)<span class="keyword"> const</span>
00726 <span class="keyword">        </span>{
00727             <span class="keywordflow">return</span> squaredDistance(rhs) &lt;=
00728                 (squaredLength() + rhs.squaredLength()) * tolerance;
00729         }
00730 
<a name="l00738"></a><a class="code" href="classOgre_1_1Vector3.html#Ogre_1_1Vector3a52">00738</a>         <span class="keyword">inline</span> <span class="keywordtype">bool</span> directionEquals(<span class="keyword">const</span> Vector3&amp; rhs,
00739             <span class="keyword">const</span> <a class="code" href="classOgre_1_1Radian.html">Radian</a>&amp; tolerance)<span class="keyword"> const</span>
00740 <span class="keyword">        </span>{
00741             <a class="code" href="namespaceOgre.html#a351">Real</a> dot = dotProduct(rhs);
00742             <a class="code" href="classOgre_1_1Radian.html">Radian</a> angle = Math::ACos(dot);
00743 
00744             <span class="keywordflow">return</span> Math::Abs(angle.<a class="code" href="classOgre_1_1Radian.html#Ogre_1_1Radiana6">valueRadians</a>()) &lt;= tolerance.valueRadians();
00745 
00746         }
00747 
00748         <span class="comment">// special points</span>
<a name="l00749"></a><a class="code" href="classOgre_1_1Vector3.html#Ogre_1_1Vector3s0">00749</a>         <span class="keyword">static</span> <span class="keyword">const</span> Vector3 ZERO;
<a name="l00750"></a><a class="code" href="classOgre_1_1Vector3.html#Ogre_1_1Vector3s1">00750</a>         <span class="keyword">static</span> <span class="keyword">const</span> Vector3 UNIT_X;
<a name="l00751"></a><a class="code" href="classOgre_1_1Vector3.html#Ogre_1_1Vector3s2">00751</a>         <span class="keyword">static</span> <span class="keyword">const</span> Vector3 UNIT_Y;
<a name="l00752"></a><a class="code" href="classOgre_1_1Vector3.html#Ogre_1_1Vector3s3">00752</a>         <span class="keyword">static</span> <span class="keyword">const</span> Vector3 UNIT_Z;
<a name="l00753"></a><a class="code" href="classOgre_1_1Vector3.html#Ogre_1_1Vector3s4">00753</a>         <span class="keyword">static</span> <span class="keyword">const</span> Vector3 NEGATIVE_UNIT_X;
<a name="l00754"></a><a class="code" href="classOgre_1_1Vector3.html#Ogre_1_1Vector3s5">00754</a>         <span class="keyword">static</span> <span class="keyword">const</span> Vector3 NEGATIVE_UNIT_Y;
<a name="l00755"></a><a class="code" href="classOgre_1_1Vector3.html#Ogre_1_1Vector3s6">00755</a>         <span class="keyword">static</span> <span class="keyword">const</span> Vector3 NEGATIVE_UNIT_Z;
<a name="l00756"></a><a class="code" href="classOgre_1_1Vector3.html#Ogre_1_1Vector3s7">00756</a>         <span class="keyword">static</span> <span class="keyword">const</span> Vector3 UNIT_SCALE;
00757 
00760         <span class="keyword">inline</span> <a class="code" href="OgrePlatform_8h.html#a16">_OgreExport</a> <span class="keyword">friend</span> std::ostream&amp; <span class="keyword">operator</span> &lt;&lt;
<a name="l00761"></a><a class="code" href="classOgre_1_1Vector3.html#Ogre_1_1Vector3n6">00761</a>             ( std::ostream&amp; o, <span class="keyword">const</span> Vector3&amp; v )
00762         {
00763             o &lt;&lt; <span class="stringliteral">"Vector3("</span> &lt;&lt; v.<a class="code" href="classOgre_1_1Vector3.html#Ogre_1_1Vector3o0">x</a> &lt;&lt; <span class="stringliteral">", "</span> &lt;&lt; v.<a class="code" href="classOgre_1_1Vector3.html#Ogre_1_1Vector3o1">y</a> &lt;&lt; <span class="stringliteral">", "</span> &lt;&lt; v.<a class="code" href="classOgre_1_1Vector3.html#Ogre_1_1Vector3o2">z</a> &lt;&lt; <span class="stringliteral">")"</span>;
00764             <span class="keywordflow">return</span> o;
00765         }
00766     };
00767 
00768 }
00769 <span class="preprocessor">#endif</span>
</pre></div><hr>
<p>
Copyright &copy; 2000-2005 by The OGRE Team<br />
<!--Creative Commons License--><a rel="license" href="http://creativecommons.org/licenses/by-sa/2.5/"><img alt="Creative Commons License" border="0" src="http://creativecommons.org/images/public/somerights20.png"/></a><br/>
This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/2.5/">Creative Commons Attribution-ShareAlike 2.5 License</a>.<br/>
		<!--/Creative Commons License--><!-- <rdf:RDF xmlns="http://web.resource.org/cc/" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
		<Work rdf:about="">
			<license rdf:resource="http://creativecommons.org/licenses/by-sa/2.5/" />
	<dc:type rdf:resource="http://purl.org/dc/dcmitype/Text" />
		</Work>
		<License rdf:about="http://creativecommons.org/licenses/by-sa/2.5/"><permits rdf:resource="http://web.resource.org/cc/Reproduction"/><permits rdf:resource="http://web.resource.org/cc/Distribution"/><requires rdf:resource="http://web.resource.org/cc/Notice"/><requires rdf:resource="http://web.resource.org/cc/Attribution"/><permits rdf:resource="http://web.resource.org/cc/DerivativeWorks"/><requires rdf:resource="http://web.resource.org/cc/ShareAlike"/></License></rdf:RDF> -->

Last modified Sun Sep 30 10:50:58 2007
</p>
</body>
</html>
