<html>
<head>
<title>OGRE: OgreGpuProgram.h Source File - OGRE Documentation</title> <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"> 
<link type="text/css" rel="stylesheet" href="doxygen.css">
<link type="text/css" rel="stylesheet" href="tabs.css">
</head>

<body>
<!-- Generated by Doxygen 1.4.1 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="dirs.html">Directories</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="namespacemembers.html">Namespace&nbsp;Members</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<div class="nav">
<a class="el" href="dir_000000.html">OgreMain</a>&nbsp;/&nbsp;<a class="el" href="dir_000001.html">include</a></div>
<h1>OgreGpuProgram.h</h1><a href="OgreGpuProgram_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment">00001 <span class="comment">/*</span>
00002 <span class="comment">-----------------------------------------------------------------------------</span>
00003 <span class="comment">This source file is part of OGRE</span>
00004 <span class="comment">    (Object-oriented Graphics Rendering Engine)</span>
00005 <span class="comment">For the latest info, see http://www.ogre3d.org</span>
00006 <span class="comment"></span>
00007 <span class="comment">Copyright (c) 2000-2006 Torus Knot Software Ltd</span>
00008 <span class="comment">Also see acknowledgements in Readme.html</span>
00009 <span class="comment"></span>
00010 <span class="comment">This program is free software; you can redistribute it and/or modify it under</span>
00011 <span class="comment">the terms of the GNU Lesser General Public License as published by the Free Software</span>
00012 <span class="comment">Foundation; either version 2 of the License, or (at your option) any later</span>
00013 <span class="comment">version.</span>
00014 <span class="comment"></span>
00015 <span class="comment">This program is distributed in the hope that it will be useful, but WITHOUT</span>
00016 <span class="comment">ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS</span>
00017 <span class="comment">FOR A PARTICULAR PURPOSE. See the GNU Lesser General Public License for more details.</span>
00018 <span class="comment"></span>
00019 <span class="comment">You should have received a copy of the GNU Lesser General Public License along with</span>
00020 <span class="comment">this program; if not, write to the Free Software Foundation, Inc., 59 Temple</span>
00021 <span class="comment">Place - Suite 330, Boston, MA 02111-1307, USA, or go to</span>
00022 <span class="comment">http://www.gnu.org/copyleft/lesser.txt.</span>
00023 <span class="comment"></span>
00024 <span class="comment">You may alternatively use this source under the terms of a specific version of</span>
00025 <span class="comment">the OGRE Unrestricted License provided you have obtained such a license from</span>
00026 <span class="comment">Torus Knot Software Ltd.</span>
00027 <span class="comment">-----------------------------------------------------------------------------</span>
00028 <span class="comment">*/</span>
00029 <span class="preprocessor">#ifndef __GpuProgram_H_</span>
00030 <span class="preprocessor"></span><span class="preprocessor">#define __GpuProgram_H_</span>
00031 <span class="preprocessor"></span>
00032 <span class="comment">// Precompiler options</span>
00033 <span class="preprocessor">#include "<a class="code" href="OgrePrerequisites_8h.html">OgrePrerequisites.h</a>"</span>
00034 <span class="preprocessor">#include "<a class="code" href="OgreResource_8h.html">OgreResource.h</a>"</span>
00035 <span class="preprocessor">#include "<a class="code" href="OgreSharedPtr_8h.html">OgreSharedPtr.h</a>"</span>
00036 <span class="preprocessor">#include "<a class="code" href="OgreIteratorWrappers_8h.html">OgreIteratorWrappers.h</a>"</span>
00037 
00038 <span class="keyword">namespace </span>Ogre {
00039 
<a name="l00041"></a><a class="code" href="namespaceOgre.html#a539">00041</a>     <span class="keyword">enum</span> <a class="code" href="namespaceOgre.html#a539">GpuProgramType</a>
00042     {
00043         <a class="code" href="namespaceOgre.html#a539a169">GPT_VERTEX_PROGRAM</a>,
00044         <a class="code" href="namespaceOgre.html#a539a170">GPT_FRAGMENT_PROGRAM</a>
00045     };
00046 
<a name="l00052"></a><a class="code" href="namespaceOgre.html#a540">00052</a>     <span class="keyword">enum</span> <a class="code" href="namespaceOgre.html#a540">GpuConstantType</a>
00053     {
00054         <a class="code" href="namespaceOgre.html#a540a171">GCT_FLOAT1</a>,
00055         <a class="code" href="namespaceOgre.html#a540a172">GCT_FLOAT2</a>,
00056         <a class="code" href="namespaceOgre.html#a540a173">GCT_FLOAT3</a>,
00057         <a class="code" href="namespaceOgre.html#a540a174">GCT_FLOAT4</a>,
00058         <a class="code" href="namespaceOgre.html#a540a175">GCT_SAMPLER1D</a>,
00059         <a class="code" href="namespaceOgre.html#a540a176">GCT_SAMPLER2D</a>,
00060         <a class="code" href="namespaceOgre.html#a540a177">GCT_SAMPLER3D</a>,
00061         <a class="code" href="namespaceOgre.html#a540a178">GCT_SAMPLERCUBE</a>,
00062         <a class="code" href="namespaceOgre.html#a540a179">GCT_SAMPLER1DSHADOW</a>,
00063         <a class="code" href="namespaceOgre.html#a540a180">GCT_SAMPLER2DSHADOW</a>,
00064         <a class="code" href="namespaceOgre.html#a540a181">GCT_MATRIX_2X2</a>,
00065         <a class="code" href="namespaceOgre.html#a540a182">GCT_MATRIX_2X3</a>,
00066         <a class="code" href="namespaceOgre.html#a540a183">GCT_MATRIX_2X4</a>,
00067         <a class="code" href="namespaceOgre.html#a540a184">GCT_MATRIX_3X2</a>,
00068         <a class="code" href="namespaceOgre.html#a540a185">GCT_MATRIX_3X3</a>,
00069         <a class="code" href="namespaceOgre.html#a540a186">GCT_MATRIX_3X4</a>,
00070         <a class="code" href="namespaceOgre.html#a540a187">GCT_MATRIX_4X2</a>,
00071         <a class="code" href="namespaceOgre.html#a540a188">GCT_MATRIX_4X3</a>,
00072         <a class="code" href="namespaceOgre.html#a540a189">GCT_MATRIX_4X4</a>,
00073         <a class="code" href="namespaceOgre.html#a540a190">GCT_INT1</a>,
00074         <a class="code" href="namespaceOgre.html#a540a191">GCT_INT2</a>,
00075         <a class="code" href="namespaceOgre.html#a540a192">GCT_INT3</a>,
00076         <a class="code" href="namespaceOgre.html#a540a193">GCT_INT4</a>,
00077         <a class="code" href="namespaceOgre.html#a540a194">GCT_UNKNOWN</a>
00078     };
00079 
<a name="l00084"></a><a class="code" href="structOgre_1_1GpuConstantDefinition.html">00084</a>     <span class="keyword">struct </span><a class="code" href="OgrePlatform_8h.html#a16">_OgreExport</a> GpuConstantDefinition
00085     {
<a name="l00087"></a><a class="code" href="structOgre_1_1GpuConstantDefinition.html#Ogre_1_1GpuConstantDefinitiono0">00087</a>         <a class="code" href="namespaceOgre.html#a540">GpuConstantType</a> constType;
<a name="l00089"></a><a class="code" href="structOgre_1_1GpuConstantDefinition.html#Ogre_1_1GpuConstantDefinitiono1">00089</a>         size_t physicalIndex;
<a name="l00092"></a><a class="code" href="structOgre_1_1GpuConstantDefinition.html#Ogre_1_1GpuConstantDefinitiono2">00092</a>         size_t elementSize;
<a name="l00094"></a><a class="code" href="structOgre_1_1GpuConstantDefinition.html#Ogre_1_1GpuConstantDefinitiono3">00094</a>         size_t arraySize;
00095 
<a name="l00096"></a><a class="code" href="structOgre_1_1GpuConstantDefinition.html#Ogre_1_1GpuConstantDefinitiona0">00096</a>         <span class="keywordtype">bool</span> isFloat()<span class="keyword"> const</span>
00097 <span class="keyword">        </span>{
00098             <span class="keywordflow">switch</span>(constType)
00099             {
00100             <span class="keywordflow">case</span> <a class="code" href="namespaceOgre.html#a540a190">GCT_INT1</a>:
00101             <span class="keywordflow">case</span> <a class="code" href="namespaceOgre.html#a540a191">GCT_INT2</a>:
00102             <span class="keywordflow">case</span> <a class="code" href="namespaceOgre.html#a540a192">GCT_INT3</a>:
00103             <span class="keywordflow">case</span> <a class="code" href="namespaceOgre.html#a540a193">GCT_INT4</a>:
00104             <span class="keywordflow">case</span> <a class="code" href="namespaceOgre.html#a540a175">GCT_SAMPLER1D</a>:
00105             <span class="keywordflow">case</span> <a class="code" href="namespaceOgre.html#a540a176">GCT_SAMPLER2D</a>:
00106             <span class="keywordflow">case</span> <a class="code" href="namespaceOgre.html#a540a177">GCT_SAMPLER3D</a>:
00107             <span class="keywordflow">case</span> <a class="code" href="namespaceOgre.html#a540a178">GCT_SAMPLERCUBE</a>:
00108             <span class="keywordflow">case</span> <a class="code" href="namespaceOgre.html#a540a179">GCT_SAMPLER1DSHADOW</a>:
00109             <span class="keywordflow">case</span> <a class="code" href="namespaceOgre.html#a540a180">GCT_SAMPLER2DSHADOW</a>:
00110                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
00111             <span class="keywordflow">default</span>:
00112                 <span class="keywordflow">return</span> <span class="keyword">true</span>;
00113             };
00114 
00115         }
00116 
<a name="l00117"></a><a class="code" href="structOgre_1_1GpuConstantDefinition.html#Ogre_1_1GpuConstantDefinitiona1">00117</a>         <span class="keywordtype">bool</span> isSampler()<span class="keyword"> const</span>
00118 <span class="keyword">        </span>{
00119             <span class="keywordflow">switch</span>(constType)
00120             {
00121             <span class="keywordflow">case</span> <a class="code" href="namespaceOgre.html#a540a175">GCT_SAMPLER1D</a>:
00122             <span class="keywordflow">case</span> <a class="code" href="namespaceOgre.html#a540a176">GCT_SAMPLER2D</a>:
00123             <span class="keywordflow">case</span> <a class="code" href="namespaceOgre.html#a540a177">GCT_SAMPLER3D</a>:
00124             <span class="keywordflow">case</span> <a class="code" href="namespaceOgre.html#a540a178">GCT_SAMPLERCUBE</a>:
00125             <span class="keywordflow">case</span> <a class="code" href="namespaceOgre.html#a540a179">GCT_SAMPLER1DSHADOW</a>:
00126             <span class="keywordflow">case</span> <a class="code" href="namespaceOgre.html#a540a180">GCT_SAMPLER2DSHADOW</a>:
00127                 <span class="keywordflow">return</span> <span class="keyword">true</span>;
00128             <span class="keywordflow">default</span>:
00129                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
00130             };
00131 
00132         }
00133 
<a name="l00134"></a><a class="code" href="structOgre_1_1GpuConstantDefinition.html#Ogre_1_1GpuConstantDefinitiona2">00134</a>         GpuConstantDefinition()
00135             : constType(<a class="code" href="namespaceOgre.html#a540a194">GCT_UNKNOWN</a>)
00136             , physicalIndex((std::numeric_limits&lt;size_t&gt;::max)())
00137             , elementSize(0)
00138             , arraySize(1) {}
00139     };
<a name="l00140"></a><a class="code" href="namespaceOgre.html#a165">00140</a>     <span class="keyword">typedef</span> std::map&lt;String, GpuConstantDefinition&gt; <a class="code" href="namespaceOgre.html#a165">GpuConstantDefinitionMap</a>;
<a name="l00141"></a><a class="code" href="namespaceOgre.html#a166">00141</a>     <span class="keyword">typedef</span> <a class="code" href="classOgre_1_1ConstMapIterator.html">ConstMapIterator&lt;GpuConstantDefinitionMap&gt;</a> <a class="code" href="classOgre_1_1ConstMapIterator.html">GpuConstantDefinitionIterator</a>;
00142 
<a name="l00144"></a><a class="code" href="structOgre_1_1GpuNamedConstants.html">00144</a>     <span class="keyword">struct </span><a class="code" href="OgrePlatform_8h.html#a16">_OgreExport</a> GpuNamedConstants
00145     {
<a name="l00147"></a><a class="code" href="structOgre_1_1GpuNamedConstants.html#Ogre_1_1GpuNamedConstantso0">00147</a>         size_t floatBufferSize;
<a name="l00149"></a><a class="code" href="structOgre_1_1GpuNamedConstants.html#Ogre_1_1GpuNamedConstantso1">00149</a>         size_t intBufferSize;
<a name="l00151"></a><a class="code" href="structOgre_1_1GpuNamedConstants.html#Ogre_1_1GpuNamedConstantso2">00151</a>         <a class="code" href="namespaceOgre.html#a165">GpuConstantDefinitionMap</a> map;
00152 
00164         <span class="keywordtype">void</span> generateConstantDefinitionArrayEntries(<span class="keyword">const</span> String&amp; paramName, 
00165             <span class="keyword">const</span> GpuConstantDefinition&amp; baseDef);
00166 
00167     };
00168 
<a name="l00172"></a><a class="code" href="structOgre_1_1GpuLogicalIndexUse.html">00172</a>     <span class="keyword">struct </span><a class="code" href="OgrePlatform_8h.html#a16">_OgreExport</a> GpuLogicalIndexUse
00173     {
<a name="l00175"></a><a class="code" href="structOgre_1_1GpuLogicalIndexUse.html#Ogre_1_1GpuLogicalIndexUseo0">00175</a>         size_t physicalIndex;
<a name="l00177"></a><a class="code" href="structOgre_1_1GpuLogicalIndexUse.html#Ogre_1_1GpuLogicalIndexUseo1">00177</a>         size_t currentSize;
00178 
<a name="l00179"></a><a class="code" href="structOgre_1_1GpuLogicalIndexUse.html#Ogre_1_1GpuLogicalIndexUsea0">00179</a>         GpuLogicalIndexUse(size_t bufIdx, size_t curSz) 
00180             : physicalIndex(bufIdx), currentSize(curSz) {}
00181     };
<a name="l00182"></a><a class="code" href="namespaceOgre.html#a167">00182</a>     <span class="keyword">typedef</span> std::map&lt;size_t, GpuLogicalIndexUse&gt; <a class="code" href="namespaceOgre.html#a167">GpuLogicalIndexUseMap</a>;
<a name="l00184"></a><a class="code" href="structOgre_1_1GpuLogicalBufferStruct.html">00184</a>     <span class="keyword">struct </span><a class="code" href="OgrePlatform_8h.html#a16">_OgreExport</a> GpuLogicalBufferStruct
00185     {
00186         <a class="code" href="OgrePrerequisites_8h.html#a13">OGRE_MUTEX</a>(mutex)
<a name="l00188"></a><a class="code" href="structOgre_1_1GpuLogicalBufferStruct.html#Ogre_1_1GpuLogicalBufferStructo0">00188</a>         GpuLogicalIndexUseMap map;
<a name="l00190"></a><a class="code" href="structOgre_1_1GpuLogicalBufferStruct.html#Ogre_1_1GpuLogicalBufferStructo1">00190</a>         size_t bufferSize;
<a name="l00191"></a><a class="code" href="structOgre_1_1GpuLogicalBufferStruct.html#Ogre_1_1GpuLogicalBufferStructa0">00191</a>         GpuLogicalBufferStruct() : bufferSize(0) {}
00192     };
00193 
<a name="l00224"></a><a class="code" href="classOgre_1_1GpuProgramParameters.html">00224</a>     <span class="keyword">class </span><a class="code" href="OgrePlatform_8h.html#a16">_OgreExport</a> GpuProgramParameters
00225     {
00226     <span class="keyword">public</span>:
<a name="l00230"></a><a class="code" href="classOgre_1_1GpuProgramParameters.html#Ogre_1_1GpuProgramParametersw117">00230</a>         <span class="keyword">enum</span> AutoConstantType
00231         {
00233             ACT_WORLD_MATRIX,
00235             ACT_INVERSE_WORLD_MATRIX,
00239             ACT_TRANSPOSE_WORLD_MATRIX,
00241             ACT_INVERSE_TRANSPOSE_WORLD_MATRIX,
00242 
00243 
00245             ACT_WORLD_MATRIX_ARRAY_3x4,
00247             ACT_WORLD_MATRIX_ARRAY,
00248 
00250             ACT_VIEW_MATRIX,
00252             ACT_INVERSE_VIEW_MATRIX,
00256             ACT_TRANSPOSE_VIEW_MATRIX,
00260             ACT_INVERSE_TRANSPOSE_VIEW_MATRIX,
00261 
00262 
00264             ACT_PROJECTION_MATRIX,
00268             ACT_INVERSE_PROJECTION_MATRIX,
00272             ACT_TRANSPOSE_PROJECTION_MATRIX,
00276             ACT_INVERSE_TRANSPOSE_PROJECTION_MATRIX,
00277 
00278 
00280             ACT_VIEWPROJ_MATRIX,
00284             ACT_INVERSE_VIEWPROJ_MATRIX,
00288             ACT_TRANSPOSE_VIEWPROJ_MATRIX,
00292             ACT_INVERSE_TRANSPOSE_VIEWPROJ_MATRIX,
00293 
00294 
00296             ACT_WORLDVIEW_MATRIX,
00298             ACT_INVERSE_WORLDVIEW_MATRIX,
00302             ACT_TRANSPOSE_WORLDVIEW_MATRIX,
00304             ACT_INVERSE_TRANSPOSE_WORLDVIEW_MATRIX,
00306 
00307 
00309             ACT_WORLDVIEWPROJ_MATRIX,
00313             ACT_INVERSE_WORLDVIEWPROJ_MATRIX,
00317             ACT_TRANSPOSE_WORLDVIEWPROJ_MATRIX,
00321             ACT_INVERSE_TRANSPOSE_WORLDVIEWPROJ_MATRIX,
00322 
00323 
00325 
00328             ACT_RENDER_TARGET_FLIPPING,
00329 
00330 
00332             ACT_FOG_COLOUR,
00334             ACT_FOG_PARAMS,
00335 
00336 
00338             ACT_SURFACE_AMBIENT_COLOUR,
00340             ACT_SURFACE_DIFFUSE_COLOUR,
00342             ACT_SURFACE_SPECULAR_COLOUR,
00344             ACT_SURFACE_EMISSIVE_COLOUR,
00346             ACT_SURFACE_SHININESS,
00347 
00348 
00350             ACT_AMBIENT_LIGHT_COLOUR, 
00351 
00353             ACT_LIGHT_DIFFUSE_COLOUR,
00355             ACT_LIGHT_SPECULAR_COLOUR,
00357             ACT_LIGHT_ATTENUATION,
00363             ACT_SPOTLIGHT_PARAMS,
00365             ACT_LIGHT_POSITION,
00367             ACT_LIGHT_POSITION_OBJECT_SPACE,
00369             ACT_LIGHT_POSITION_VIEW_SPACE,
00371             ACT_LIGHT_DIRECTION,
00373             ACT_LIGHT_DIRECTION_OBJECT_SPACE,
00375             ACT_LIGHT_DIRECTION_VIEW_SPACE,
00380             ACT_LIGHT_DISTANCE_OBJECT_SPACE,
00382             ACT_LIGHT_POWER_SCALE,
00384             ACT_LIGHT_DIFFUSE_COLOUR_ARRAY,
00386             ACT_LIGHT_SPECULAR_COLOUR_ARRAY,
00388             ACT_LIGHT_ATTENUATION_ARRAY,
00390             ACT_LIGHT_POSITION_ARRAY,
00392             ACT_LIGHT_POSITION_OBJECT_SPACE_ARRAY,
00394             ACT_LIGHT_POSITION_VIEW_SPACE_ARRAY,
00396             ACT_LIGHT_DIRECTION_ARRAY,
00398             ACT_LIGHT_DIRECTION_OBJECT_SPACE_ARRAY,
00400             ACT_LIGHT_DIRECTION_VIEW_SPACE_ARRAY,
00405             ACT_LIGHT_DISTANCE_OBJECT_SPACE_ARRAY,
00409             ACT_LIGHT_POWER_SCALE_ARRAY,
00416             ACT_SPOTLIGHT_PARAMS_ARRAY,
00417 
00422             ACT_DERIVED_AMBIENT_LIGHT_COLOUR,
00427             ACT_DERIVED_SCENE_COLOUR,
00428 
00434             ACT_DERIVED_LIGHT_DIFFUSE_COLOUR,
00440             ACT_DERIVED_LIGHT_SPECULAR_COLOUR,
00441 
00443             ACT_DERIVED_LIGHT_DIFFUSE_COLOUR_ARRAY,
00445             ACT_DERIVED_LIGHT_SPECULAR_COLOUR_ARRAY,
00446 
00447 
00451             ACT_SHADOW_EXTRUSION_DISTANCE,
00453             ACT_CAMERA_POSITION,
00455             ACT_CAMERA_POSITION_OBJECT_SPACE,
00457             ACT_TEXTURE_VIEWPROJ_MATRIX,
00459             ACT_CUSTOM,
00462             ACT_TIME,
00466             ACT_TIME_0_X,
00468             ACT_COSTIME_0_X,
00470             ACT_SINTIME_0_X,
00472             ACT_TANTIME_0_X,
00476             ACT_TIME_0_X_PACKED,
00481             ACT_TIME_0_1,
00483             ACT_COSTIME_0_1,
00485             ACT_SINTIME_0_1,
00487             ACT_TANTIME_0_1,
00491             ACT_TIME_0_1_PACKED,
00496             ACT_TIME_0_2PI,
00498             ACT_COSTIME_0_2PI,
00500             ACT_SINTIME_0_2PI,
00502             ACT_TANTIME_0_2PI,
00506             ACT_TIME_0_2PI_PACKED,
00508             ACT_FRAME_TIME,
00510             ACT_FPS,
00512 
00515             ACT_VIEWPORT_WIDTH,
00519             ACT_VIEWPORT_HEIGHT,
00523             ACT_INVERSE_VIEWPORT_WIDTH,
00527             ACT_INVERSE_VIEWPORT_HEIGHT,
00531             ACT_VIEWPORT_SIZE,
00532 
00534 
00537             ACT_VIEW_DIRECTION,
00541             ACT_VIEW_SIDE_VECTOR,
00545             ACT_VIEW_UP_VECTOR,
00549             ACT_FOV,
00553             ACT_NEAR_CLIP_DISTANCE,
00557             ACT_FAR_CLIP_DISTANCE,
00558 
00562             ACT_PASS_NUMBER,
00563 
00568             ACT_PASS_ITERATION_NUMBER,
00569 
00570 
00574             ACT_ANIMATION_PARAMETRIC,
00575 
00581             ACT_TEXEL_OFFSETS,
00582 
00587             ACT_SCENE_DEPTH_RANGE,
00588 
00594             ACT_SHADOW_SCENE_DEPTH_RANGE,
00595 
00599             ACT_TEXTURE_SIZE,
00603             ACT_INVERSE_TEXTURE_SIZE,
00607             ACT_PACKED_TEXTURE_SIZE,
00608 
00609 
00610         };
00611 
<a name="l00615"></a><a class="code" href="classOgre_1_1GpuProgramParameters.html#Ogre_1_1GpuProgramParametersw118">00615</a>         <span class="keyword">enum</span> ACDataType {
00617             ACDT_NONE,
00619             ACDT_INT,
00621             ACDT_REAL
00622         };
00623 
<a name="l00626"></a><a class="code" href="classOgre_1_1GpuProgramParameters.html#Ogre_1_1GpuProgramParametersw119">00626</a>         <span class="keyword">enum</span> ElementType {
00627             ET_INT,
00628             ET_REAL
00629         };
00630 
<a name="l00634"></a><a class="code" href="structOgre_1_1GpuProgramParameters_1_1AutoConstantDefinition.html">00634</a>         <span class="keyword">struct </span><a class="code" href="structOgre_1_1GpuProgramParameters_1_1AutoConstantDefinition.html">AutoConstantDefinition</a>
00635         {
<a name="l00636"></a><a class="code" href="structOgre_1_1GpuProgramParameters_1_1AutoConstantDefinition.html#Ogre_1_1GpuProgramParameters_1_1AutoConstantDefinitiono0">00636</a>             AutoConstantType acType;
<a name="l00637"></a><a class="code" href="structOgre_1_1GpuProgramParameters_1_1AutoConstantDefinition.html#Ogre_1_1GpuProgramParameters_1_1AutoConstantDefinitiono1">00637</a>             <a class="code" href="namespaceOgre.html#a357">String</a> name;
<a name="l00638"></a><a class="code" href="structOgre_1_1GpuProgramParameters_1_1AutoConstantDefinition.html#Ogre_1_1GpuProgramParameters_1_1AutoConstantDefinitiono2">00638</a>             size_t elementCount;
<a name="l00640"></a><a class="code" href="structOgre_1_1GpuProgramParameters_1_1AutoConstantDefinition.html#Ogre_1_1GpuProgramParameters_1_1AutoConstantDefinitiono3">00640</a>             ElementType elementType;
<a name="l00642"></a><a class="code" href="structOgre_1_1GpuProgramParameters_1_1AutoConstantDefinition.html#Ogre_1_1GpuProgramParameters_1_1AutoConstantDefinitiono4">00642</a>             ACDataType dataType;
00643 
<a name="l00644"></a><a class="code" href="structOgre_1_1GpuProgramParameters_1_1AutoConstantDefinition.html#Ogre_1_1GpuProgramParameters_1_1AutoConstantDefinitiona0">00644</a>             <a class="code" href="structOgre_1_1GpuProgramParameters_1_1AutoConstantDefinition.html">AutoConstantDefinition</a>(AutoConstantType _acType, <span class="keyword">const</span> String&amp; _name, 
00645                 size_t _elementCount, ElementType _elementType, 
00646                 ACDataType _dataType)
00647                 :acType(_acType), name(_name), elementCount(_elementCount), 
00648                 elementType(_elementType), dataType(_dataType)
00649             {
00650                 
00651             }
00652         };
00653 
<a name="l00655"></a><a class="code" href="classOgre_1_1GpuProgramParameters_1_1AutoConstantEntry.html">00655</a>         <span class="keyword">class </span><a class="code" href="classOgre_1_1GpuProgramParameters_1_1AutoConstantEntry.html">AutoConstantEntry</a>
00656         {
00657         <span class="keyword">public</span>:
<a name="l00659"></a><a class="code" href="classOgre_1_1GpuProgramParameters_1_1AutoConstantEntry.html#Ogre_1_1GpuProgramParameters_1_1AutoConstantEntryo0">00659</a>             AutoConstantType paramType;
<a name="l00661"></a><a class="code" href="classOgre_1_1GpuProgramParameters_1_1AutoConstantEntry.html#Ogre_1_1GpuProgramParameters_1_1AutoConstantEntryo1">00661</a>             size_t physicalIndex;
<a name="l00665"></a><a class="code" href="classOgre_1_1GpuProgramParameters_1_1AutoConstantEntry.html#Ogre_1_1GpuProgramParameters_1_1AutoConstantEntryo2">00665</a>             size_t elementCount;
00667             <span class="keyword">union</span>{
<a name="l00668"></a><a class="code" href="classOgre_1_1GpuProgramParameters_1_1AutoConstantEntry.html#Ogre_1_1GpuProgramParameters_1_1AutoConstantEntryo3">00668</a>                 size_t data;
<a name="l00669"></a><a class="code" href="classOgre_1_1GpuProgramParameters_1_1AutoConstantEntry.html#Ogre_1_1GpuProgramParameters_1_1AutoConstantEntryo4">00669</a>                 <a class="code" href="namespaceOgre.html#a351">Real</a> fData;
00670             };
00671 
<a name="l00672"></a><a class="code" href="classOgre_1_1GpuProgramParameters_1_1AutoConstantEntry.html#Ogre_1_1GpuProgramParameters_1_1AutoConstantEntrya0">00672</a>             <a class="code" href="classOgre_1_1GpuProgramParameters_1_1AutoConstantEntry.html">AutoConstantEntry</a>(AutoConstantType theType, size_t theIndex, size_t theData, 
00673                 size_t theElemCount = 4)
00674                 : paramType(theType), physicalIndex(theIndex), elementCount(theElemCount), data(theData) {}
00675 
<a name="l00676"></a><a class="code" href="classOgre_1_1GpuProgramParameters_1_1AutoConstantEntry.html#Ogre_1_1GpuProgramParameters_1_1AutoConstantEntrya1">00676</a>             <a class="code" href="classOgre_1_1GpuProgramParameters_1_1AutoConstantEntry.html">AutoConstantEntry</a>(AutoConstantType theType, size_t theIndex, Real theData, 
00677                 size_t theElemCount = 4)
00678                 : paramType(theType), physicalIndex(theIndex), elementCount(theElemCount), fData(theData) {}
00679 
00680         };
00681         <span class="comment">// Auto parameter storage</span>
<a name="l00682"></a><a class="code" href="classOgre_1_1GpuProgramParameters.html#Ogre_1_1GpuProgramParametersw0">00682</a>         <span class="keyword">typedef</span> std::vector&lt;AutoConstantEntry&gt; AutoConstantList;
00683 
<a name="l00688"></a><a class="code" href="classOgre_1_1GpuProgramParameters.html#Ogre_1_1GpuProgramParametersw1">00688</a>         <span class="keyword">typedef</span> std::vector&lt;float&gt; FloatConstantList;
<a name="l00693"></a><a class="code" href="classOgre_1_1GpuProgramParameters.html#Ogre_1_1GpuProgramParametersw2">00693</a>         <span class="keyword">typedef</span> std::vector&lt;int&gt; IntConstantList;
00694 
00695     <span class="keyword">protected</span>:
<a name="l00696"></a><a class="code" href="classOgre_1_1GpuProgramParameters.html#Ogre_1_1GpuProgramParameterst0">00696</a>         <span class="keyword">static</span> <a class="code" href="structOgre_1_1GpuProgramParameters_1_1AutoConstantDefinition.html">AutoConstantDefinition</a> AutoConstantDictionary[];
<a name="l00698"></a><a class="code" href="classOgre_1_1GpuProgramParameters.html#Ogre_1_1GpuProgramParametersp0">00698</a>         FloatConstantList mFloatConstants;
<a name="l00700"></a><a class="code" href="classOgre_1_1GpuProgramParameters.html#Ogre_1_1GpuProgramParametersp1">00700</a>         IntConstantList mIntConstants;
<a name="l00703"></a><a class="code" href="classOgre_1_1GpuProgramParameters.html#Ogre_1_1GpuProgramParametersp2">00703</a>         <a class="code" href="structOgre_1_1GpuLogicalBufferStruct.html">GpuLogicalBufferStruct</a>* mFloatLogicalToPhysical;
<a name="l00706"></a><a class="code" href="classOgre_1_1GpuProgramParameters.html#Ogre_1_1GpuProgramParametersp3">00706</a>         <a class="code" href="structOgre_1_1GpuLogicalBufferStruct.html">GpuLogicalBufferStruct</a>* mIntLogicalToPhysical;
<a name="l00708"></a><a class="code" href="classOgre_1_1GpuProgramParameters.html#Ogre_1_1GpuProgramParametersp4">00708</a>         <span class="keyword">const</span> <a class="code" href="structOgre_1_1GpuNamedConstants.html">GpuNamedConstants</a>* mNamedConstants;
<a name="l00710"></a><a class="code" href="classOgre_1_1GpuProgramParameters.html#Ogre_1_1GpuProgramParametersp5">00710</a>         AutoConstantList mAutoConstants;
<a name="l00712"></a><a class="code" href="classOgre_1_1GpuProgramParameters.html#Ogre_1_1GpuProgramParametersp6">00712</a>         <span class="keywordtype">bool</span> mTransposeMatrices;
<a name="l00714"></a><a class="code" href="classOgre_1_1GpuProgramParameters.html#Ogre_1_1GpuProgramParametersp7">00714</a>         <span class="keywordtype">bool</span> mIgnoreMissingParams;
<a name="l00716"></a><a class="code" href="classOgre_1_1GpuProgramParameters.html#Ogre_1_1GpuProgramParametersp8">00716</a>         size_t mActivePassIterationIndex;
00717 
00718     <span class="keyword">public</span>:
00719         GpuProgramParameters();
<a name="l00720"></a><a class="code" href="classOgre_1_1GpuProgramParameters.html#Ogre_1_1GpuProgramParametersa1">00720</a>         ~GpuProgramParameters() {}
00721 
00723         GpuProgramParameters(<span class="keyword">const</span> GpuProgramParameters&amp; oth);
00725         GpuProgramParameters&amp; operator=(<span class="keyword">const</span> GpuProgramParameters&amp; oth);
00726 
00728         <span class="keywordtype">void</span> _setNamedConstants(<span class="keyword">const</span> <a class="code" href="structOgre_1_1GpuNamedConstants.html">GpuNamedConstants</a>* constantmap);
00729 
00731         <span class="keywordtype">void</span> _setLogicalIndexes(<a class="code" href="structOgre_1_1GpuLogicalBufferStruct.html">GpuLogicalBufferStruct</a>* floatIndexMap, 
00732             <a class="code" href="structOgre_1_1GpuLogicalBufferStruct.html">GpuLogicalBufferStruct</a>* intIndexMap);
00733 
00734 
<a name="l00736"></a><a class="code" href="classOgre_1_1GpuProgramParameters.html#Ogre_1_1GpuProgramParametersa6">00736</a>         <span class="keywordtype">bool</span> hasNamedParameters()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> mNamedConstants != 0;}
<a name="l00742"></a><a class="code" href="classOgre_1_1GpuProgramParameters.html#Ogre_1_1GpuProgramParametersa7">00742</a>         <span class="keywordtype">bool</span> hasLogicalIndexedParameters()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> mFloatLogicalToPhysical != 0;}
00743 
00749         <span class="keywordtype">void</span> setConstant(size_t index, <span class="keyword">const</span> <a class="code" href="classOgre_1_1Vector4.html">Vector4</a>&amp; vec);
00757         <span class="keywordtype">void</span> setConstant(size_t index, Real val);
00765         <span class="keywordtype">void</span> setConstant(size_t index, <span class="keyword">const</span> <a class="code" href="classOgre_1_1Vector3.html">Vector3</a>&amp; vec);
00772         <span class="keywordtype">void</span> setConstant(size_t index, <span class="keyword">const</span> <a class="code" href="classOgre_1_1Matrix4.html">Matrix4</a>&amp; m);
00780         <span class="keywordtype">void</span> setConstant(size_t index, <span class="keyword">const</span> <a class="code" href="classOgre_1_1Matrix4.html">Matrix4</a>* m, size_t numEntries);
00787         <span class="keywordtype">void</span> setConstant(size_t index, <span class="keyword">const</span> <span class="keywordtype">float</span> *val, size_t count);
00794         <span class="keywordtype">void</span> setConstant(size_t index, <span class="keyword">const</span> <span class="keywordtype">double</span> *val, size_t count);
00800         <span class="keywordtype">void</span> setConstant(size_t index, <span class="keyword">const</span> <a class="code" href="classOgre_1_1ColourValue.html">ColourValue</a>&amp; colour);
00801         
00816         <span class="keywordtype">void</span> setConstant(size_t index, <span class="keyword">const</span> <span class="keywordtype">int</span> *val, size_t count);
00817 
00824         <span class="keywordtype">void</span> _writeRawConstants(size_t physicalIndex, <span class="keyword">const</span> <span class="keywordtype">float</span>* val, size_t count);
00831         <span class="keywordtype">void</span> _writeRawConstants(size_t physicalIndex, <span class="keyword">const</span> <span class="keywordtype">double</span>* val, size_t count);
00838         <span class="keywordtype">void</span> _writeRawConstants(size_t physicalIndex, <span class="keyword">const</span> <span class="keywordtype">int</span>* val, size_t count);
00845         <span class="keywordtype">void</span> _readRawConstants(size_t physicalIndex, size_t count, <span class="keywordtype">float</span>* dest);
00852         <span class="keywordtype">void</span> _readRawConstants(size_t physicalIndex, size_t count, <span class="keywordtype">int</span>* dest);
00853 
00864         <span class="keywordtype">void</span> _writeRawConstant(size_t physicalIndex, <span class="keyword">const</span> <a class="code" href="classOgre_1_1Vector4.html">Vector4</a>&amp; vec, 
00865             size_t count = 4);
00873         <span class="keywordtype">void</span> _writeRawConstant(size_t physicalIndex, Real val);
00881         <span class="keywordtype">void</span> _writeRawConstant(size_t physicalIndex, <span class="keywordtype">int</span> val);
00889         <span class="keywordtype">void</span> _writeRawConstant(size_t physicalIndex, <span class="keyword">const</span> <a class="code" href="classOgre_1_1Vector3.html">Vector3</a>&amp; vec);
00897         <span class="keywordtype">void</span> _writeRawConstant(size_t physicalIndex, <span class="keyword">const</span> <a class="code" href="classOgre_1_1Matrix4.html">Matrix4</a>&amp; m);
00905         <span class="keywordtype">void</span> _writeRawConstant(size_t physicalIndex, <span class="keyword">const</span> <a class="code" href="classOgre_1_1Matrix4.html">Matrix4</a>* m, size_t numEntries);
00915         <span class="keywordtype">void</span> _writeRawConstant(size_t physicalIndex, <span class="keyword">const</span> <a class="code" href="classOgre_1_1ColourValue.html">ColourValue</a>&amp; colour, 
00916             size_t count = 4);
00917         
00918 
00924         <a class="code" href="classOgre_1_1ConstMapIterator.html">GpuConstantDefinitionIterator</a> getConstantDefinitionIterator(<span class="keywordtype">void</span>) <span class="keyword">const</span>;
00925 
00930         <span class="keyword">const</span> <a class="code" href="structOgre_1_1GpuConstantDefinition.html">GpuConstantDefinition</a>&amp; getConstantDefinition(<span class="keyword">const</span> String&amp; name) <span class="keyword">const</span>;
00931 
00936         <span class="keyword">const</span> <a class="code" href="structOgre_1_1GpuNamedConstants.html">GpuNamedConstants</a>&amp; getConstantDefinitions() <span class="keyword">const</span>;
00937 
<a name="l00943"></a><a class="code" href="classOgre_1_1GpuProgramParameters.html#Ogre_1_1GpuProgramParametersa32">00943</a>         <span class="keyword">const</span> <a class="code" href="structOgre_1_1GpuLogicalBufferStruct.html">GpuLogicalBufferStruct</a>* getFloatLogicalBufferStruct()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> mFloatLogicalToPhysical; }
00944 
00950         size_t getFloatLogicalIndexForPhysicalIndex(size_t physicalIndex);
00956         size_t getIntLogicalIndexForPhysicalIndex(size_t physicalIndex);
00957 
<a name="l00963"></a><a class="code" href="classOgre_1_1GpuProgramParameters.html#Ogre_1_1GpuProgramParametersa35">00963</a>         <span class="keyword">const</span> <a class="code" href="structOgre_1_1GpuLogicalBufferStruct.html">GpuLogicalBufferStruct</a>* getIntLogicalBufferStruct()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> mIntLogicalToPhysical; }
<a name="l00965"></a><a class="code" href="classOgre_1_1GpuProgramParameters.html#Ogre_1_1GpuProgramParametersa36">00965</a>         <span class="keyword">const</span> FloatConstantList&amp; getFloatConstantList()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> mFloatConstants; }
<a name="l00967"></a><a class="code" href="classOgre_1_1GpuProgramParameters.html#Ogre_1_1GpuProgramParametersa37">00967</a>         <span class="keywordtype">float</span>* getFloatPointer(size_t pos) { <span class="keywordflow">return</span> &amp;mFloatConstants[pos]; }
<a name="l00969"></a><a class="code" href="classOgre_1_1GpuProgramParameters.html#Ogre_1_1GpuProgramParametersa38">00969</a>         <span class="keyword">const</span> <span class="keywordtype">float</span>* getFloatPointer(size_t pos)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> &amp;mFloatConstants[pos]; }
<a name="l00971"></a><a class="code" href="classOgre_1_1GpuProgramParameters.html#Ogre_1_1GpuProgramParametersa39">00971</a>         <span class="keyword">const</span> IntConstantList&amp; getIntConstantList()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> mIntConstants; }
<a name="l00973"></a><a class="code" href="classOgre_1_1GpuProgramParameters.html#Ogre_1_1GpuProgramParametersa40">00973</a>         <span class="keywordtype">int</span>* getIntPointer(size_t pos) { <span class="keywordflow">return</span> &amp;mIntConstants[pos]; }
<a name="l00975"></a><a class="code" href="classOgre_1_1GpuProgramParameters.html#Ogre_1_1GpuProgramParametersa41">00975</a>         <span class="keyword">const</span> <span class="keywordtype">int</span>* getIntPointer(size_t pos)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> &amp;mIntConstants[pos]; }
<a name="l00977"></a><a class="code" href="classOgre_1_1GpuProgramParameters.html#Ogre_1_1GpuProgramParametersa42">00977</a>         <span class="keyword">const</span> AutoConstantList&amp; getAutoConstantList()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> mAutoConstants; }
00978 
00992         <span class="keywordtype">void</span> setAutoConstant(size_t index, AutoConstantType acType, size_t extraInfo = 0);
00993         <span class="keywordtype">void</span> setAutoConstantReal(size_t index, AutoConstantType acType, Real rData);
00994 
00998         <span class="keywordtype">void</span> _setRawAutoConstant(size_t physicalIndex, AutoConstantType acType, size_t extraInfo, 
00999             size_t elementSize = 4);
01003         <span class="keywordtype">void</span> _setRawAutoConstantReal(size_t physicalIndex, AutoConstantType acType, Real rData, 
01004             size_t elementSize = 4);
01005 
01006 
01008         <span class="keywordtype">void</span> clearAutoConstant(size_t index);
01009 
01014         <span class="keywordtype">void</span> setConstantFromTime(size_t index, Real factor);
01015 
01017         <span class="keywordtype">void</span> clearAutoConstants(<span class="keywordtype">void</span>);
<a name="l01018"></a><a class="code" href="classOgre_1_1GpuProgramParameters.html#Ogre_1_1GpuProgramParametersw3">01018</a>         <span class="keyword">typedef</span> <a class="code" href="classOgre_1_1ConstVectorIterator.html">ConstVectorIterator&lt;AutoConstantList&gt;</a> <a class="code" href="classOgre_1_1ConstVectorIterator.html">AutoConstantIterator</a>;
01020         <a class="code" href="classOgre_1_1ConstVectorIterator.html">AutoConstantIterator</a> getAutoConstantIterator(<span class="keywordtype">void</span>) <span class="keyword">const</span>;
<a name="l01022"></a><a class="code" href="classOgre_1_1GpuProgramParameters.html#Ogre_1_1GpuProgramParametersa51">01022</a>         size_t getAutoConstantCount(<span class="keywordtype">void</span>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> mAutoConstants.size(); }
01027         AutoConstantEntry* getAutoConstantEntry(<span class="keyword">const</span> size_t index);
<a name="l01029"></a><a class="code" href="classOgre_1_1GpuProgramParameters.html#Ogre_1_1GpuProgramParametersa53">01029</a>         <span class="keywordtype">bool</span> hasAutoConstants(<span class="keywordtype">void</span>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> !(mAutoConstants.empty()); }
01034         <span class="keyword">const</span> AutoConstantEntry* findFloatAutoConstantEntry(size_t logicalIndex);
01039         <span class="keyword">const</span> AutoConstantEntry* findIntAutoConstantEntry(size_t logicalIndex);
01043         <span class="keyword">const</span> AutoConstantEntry* findAutoConstantEntry(<span class="keyword">const</span> String&amp; paramName);
01047         <span class="keyword">const</span> AutoConstantEntry* _findRawAutoConstantEntryFloat(size_t physicalIndex);
01051         <span class="keyword">const</span> AutoConstantEntry* _findRawAutoConstantEntryInt(size_t physicalIndex);
01052 
01054         <span class="keywordtype">void</span> _updateAutoParamsNoLights(<span class="keyword">const</span> <a class="code" href="classOgre_1_1AutoParamDataSource.html">AutoParamDataSource</a>&amp; source);
01056         <span class="keywordtype">void</span> _updateAutoParamsLightsOnly(<span class="keyword">const</span> <a class="code" href="classOgre_1_1AutoParamDataSource.html">AutoParamDataSource</a>&amp; source);
01057 
<a name="l01060"></a><a class="code" href="classOgre_1_1GpuProgramParameters.html#Ogre_1_1GpuProgramParametersa61">01060</a>         <span class="keywordtype">void</span> setIgnoreMissingParams(<span class="keywordtype">bool</span> state) { mIgnoreMissingParams = state; }
01061 
01081         <span class="keywordtype">void</span> setNamedConstant(<span class="keyword">const</span> String&amp; name, Real val);
01101         <span class="keywordtype">void</span> setNamedConstant(<span class="keyword">const</span> String&amp; name, <span class="keywordtype">int</span> val);
01106         <span class="keywordtype">void</span> setNamedConstant(<span class="keyword">const</span> String&amp; name, <span class="keyword">const</span> <a class="code" href="classOgre_1_1Vector4.html">Vector4</a>&amp; vec);
01119         <span class="keywordtype">void</span> setNamedConstant(<span class="keyword">const</span> String&amp; name, <span class="keyword">const</span> <a class="code" href="classOgre_1_1Vector3.html">Vector3</a>&amp; vec);
01124         <span class="keywordtype">void</span> setNamedConstant(<span class="keyword">const</span> String&amp; name, <span class="keyword">const</span> <a class="code" href="classOgre_1_1Matrix4.html">Matrix4</a>&amp; m);
01132         <span class="keywordtype">void</span> setNamedConstant(<span class="keyword">const</span> String&amp; name, <span class="keyword">const</span> <a class="code" href="classOgre_1_1Matrix4.html">Matrix4</a>* m, size_t numEntries);
01149         <span class="keywordtype">void</span> setNamedConstant(<span class="keyword">const</span> String&amp; name, <span class="keyword">const</span> <span class="keywordtype">float</span> *val, size_t count, 
01150             size_t multiple = 4);
01167         <span class="keywordtype">void</span> setNamedConstant(<span class="keyword">const</span> String&amp; name, <span class="keyword">const</span> <span class="keywordtype">double</span> *val, size_t count, 
01168             size_t multiple = 4);
01173         <span class="keywordtype">void</span> setNamedConstant(<span class="keyword">const</span> String&amp; name, <span class="keyword">const</span> <a class="code" href="classOgre_1_1ColourValue.html">ColourValue</a>&amp; colour);
01174         
01191         <span class="keywordtype">void</span> setNamedConstant(<span class="keyword">const</span> String&amp; name, <span class="keyword">const</span> <span class="keywordtype">int</span> *val, size_t count, 
01192             size_t multiple = 4);
01193 
01208         <span class="keywordtype">void</span> setNamedAutoConstant(<span class="keyword">const</span> String&amp; name, AutoConstantType acType, size_t extraInfo = 0);
01209         <span class="keywordtype">void</span> setNamedAutoConstantReal(<span class="keyword">const</span> String&amp; name, AutoConstantType acType, Real rData);
01210 
01218         <span class="keywordtype">void</span> setNamedConstantFromTime(<span class="keyword">const</span> String&amp; name, Real factor);
01219 
01221         <span class="keywordtype">void</span> clearNamedAutoConstant(<span class="keyword">const</span> String&amp; name);
01222 
01232         <span class="keyword">const</span> <a class="code" href="structOgre_1_1GpuConstantDefinition.html">GpuConstantDefinition</a>* _findNamedConstantDefinition(
01233             <span class="keyword">const</span> String&amp; name, <span class="keywordtype">bool</span> throwExceptionIfMissing = <span class="keyword">false</span>) <span class="keyword">const</span>;
01240         size_t _getFloatConstantPhysicalIndex(size_t logicalIndex, size_t requestedSize);
01247         size_t _getIntConstantPhysicalIndex(size_t logicalIndex, size_t requestedSize);
01248 
01249 
<a name="l01257"></a><a class="code" href="classOgre_1_1GpuProgramParameters.html#Ogre_1_1GpuProgramParametersa79">01257</a>         <span class="keywordtype">void</span> setTransposeMatrices(<span class="keywordtype">bool</span> val) { mTransposeMatrices = val; } 
<a name="l01259"></a><a class="code" href="classOgre_1_1GpuProgramParameters.html#Ogre_1_1GpuProgramParametersa80">01259</a>         <span class="keywordtype">bool</span> getTransposeMatrices(<span class="keywordtype">void</span>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> mTransposeMatrices; } 
01260 
01264         <span class="keywordtype">void</span> copyConstantsFrom(<span class="keyword">const</span> GpuProgramParameters&amp; source);
01265 
01269         <span class="keyword">static</span> <span class="keyword">const</span> AutoConstantDefinition* getAutoConstantDefinition(<span class="keyword">const</span> String&amp; name);
01274         <span class="keyword">static</span> <span class="keyword">const</span> AutoConstantDefinition* getAutoConstantDefinition(<span class="keyword">const</span> size_t idx);
01277         <span class="keyword">static</span> size_t getNumAutoConstantDefinitions(<span class="keywordtype">void</span>);
01278 
01279 
01282         <span class="keywordtype">void</span> incPassIterationNumber(<span class="keywordtype">void</span>);
<a name="l01284"></a><a class="code" href="classOgre_1_1GpuProgramParameters.html#Ogre_1_1GpuProgramParametersa83">01284</a>         <span class="keywordtype">bool</span> hasPassIterationNumber()<span class="keyword"> const </span>
01285 <span class="keyword">        </span>{ <span class="keywordflow">return</span> mActivePassIterationIndex != (std::numeric_limits&lt;size_t&gt;::max)(); }
<a name="l01287"></a><a class="code" href="classOgre_1_1GpuProgramParameters.html#Ogre_1_1GpuProgramParametersa84">01287</a>         size_t getPassIterationNumberIndex()<span class="keyword"> const </span>
01288 <span class="keyword">        </span>{ <span class="keywordflow">return</span> mActivePassIterationIndex; }
01289 
01290 
01291     };
01292 
<a name="l01294"></a><a class="code" href="namespaceOgre.html#a168">01294</a>     <span class="keyword">typedef</span> <a class="code" href="classOgre_1_1SharedPtr.html">SharedPtr&lt;GpuProgramParameters&gt;</a> <a class="code" href="classOgre_1_1SharedPtr.html">GpuProgramParametersSharedPtr</a>;
01295 
01296     <span class="comment">// Forward declaration </span>
01297     <span class="keyword">class </span><a class="code" href="classOgre_1_1GpuProgramPtr.html">GpuProgramPtr</a>;
01298 
<a name="l01308"></a><a class="code" href="classOgre_1_1GpuProgram.html">01308</a>     <span class="keyword">class </span><a class="code" href="OgrePlatform_8h.html#a16">_OgreExport</a> GpuProgram : <span class="keyword">public</span> <a class="code" href="classOgre_1_1Resource.html">Resource</a>
01309     {
01310     <span class="keyword">protected</span>:
<a name="l01312"></a><a class="code" href="classOgre_1_1GpuProgram_1_1CmdType.html">01312</a>         <span class="keyword">class </span><a class="code" href="OgrePlatform_8h.html#a16">_OgreExport</a> CmdType : <span class="keyword">public</span> <a class="code" href="classOgre_1_1ParamCommand.html">ParamCommand</a>
01313         {
01314         <span class="keyword">public</span>:
01315             <a class="code" href="namespaceOgre.html#a357">String</a> doGet(<span class="keyword">const</span> <span class="keywordtype">void</span>* target) <span class="keyword">const</span>;
01316             <span class="keywordtype">void</span> doSet(<span class="keywordtype">void</span>* target, <span class="keyword">const</span> <a class="code" href="namespaceOgre.html#a357">String</a>&amp; val);
01317         };
<a name="l01318"></a><a class="code" href="classOgre_1_1GpuProgram_1_1CmdSyntax.html">01318</a>         <span class="keyword">class </span><a class="code" href="OgrePlatform_8h.html#a16">_OgreExport</a> CmdSyntax : <span class="keyword">public</span> <a class="code" href="classOgre_1_1ParamCommand.html">ParamCommand</a>
01319         {
01320         <span class="keyword">public</span>:
01321             <a class="code" href="namespaceOgre.html#a357">String</a> doGet(<span class="keyword">const</span> <span class="keywordtype">void</span>* target) <span class="keyword">const</span>;
01322             <span class="keywordtype">void</span> doSet(<span class="keywordtype">void</span>* target, <span class="keyword">const</span> <a class="code" href="namespaceOgre.html#a357">String</a>&amp; val);
01323         };
<a name="l01324"></a><a class="code" href="classOgre_1_1GpuProgram_1_1CmdSkeletal.html">01324</a>         <span class="keyword">class </span><a class="code" href="OgrePlatform_8h.html#a16">_OgreExport</a> CmdSkeletal : <span class="keyword">public</span> <a class="code" href="classOgre_1_1ParamCommand.html">ParamCommand</a>
01325         {
01326         <span class="keyword">public</span>:
01327             <a class="code" href="namespaceOgre.html#a357">String</a> doGet(<span class="keyword">const</span> <span class="keywordtype">void</span>* target) <span class="keyword">const</span>;
01328             <span class="keywordtype">void</span> doSet(<span class="keywordtype">void</span>* target, <span class="keyword">const</span> <a class="code" href="namespaceOgre.html#a357">String</a>&amp; val);
01329         };
<a name="l01330"></a><a class="code" href="classOgre_1_1GpuProgram_1_1CmdMorph.html">01330</a>         <span class="keyword">class </span><a class="code" href="OgrePlatform_8h.html#a16">_OgreExport</a> CmdMorph : <span class="keyword">public</span> <a class="code" href="classOgre_1_1ParamCommand.html">ParamCommand</a>
01331         {
01332         <span class="keyword">public</span>:
01333             <a class="code" href="namespaceOgre.html#a357">String</a> doGet(<span class="keyword">const</span> <span class="keywordtype">void</span>* target) <span class="keyword">const</span>;
01334             <span class="keywordtype">void</span> doSet(<span class="keywordtype">void</span>* target, <span class="keyword">const</span> <a class="code" href="namespaceOgre.html#a357">String</a>&amp; val);
01335         };
<a name="l01336"></a><a class="code" href="classOgre_1_1GpuProgram_1_1CmdPose.html">01336</a>         <span class="keyword">class </span><a class="code" href="OgrePlatform_8h.html#a16">_OgreExport</a> CmdPose : <span class="keyword">public</span> <a class="code" href="classOgre_1_1ParamCommand.html">ParamCommand</a>
01337         {
01338         <span class="keyword">public</span>:
01339             <a class="code" href="namespaceOgre.html#a357">String</a> doGet(<span class="keyword">const</span> <span class="keywordtype">void</span>* target) <span class="keyword">const</span>;
01340             <span class="keywordtype">void</span> doSet(<span class="keywordtype">void</span>* target, <span class="keyword">const</span> <a class="code" href="namespaceOgre.html#a357">String</a>&amp; val);
01341         };
<a name="l01342"></a><a class="code" href="classOgre_1_1GpuProgram_1_1CmdVTF.html">01342</a>         <span class="keyword">class </span><a class="code" href="OgrePlatform_8h.html#a16">_OgreExport</a> CmdVTF : <span class="keyword">public</span> <a class="code" href="classOgre_1_1ParamCommand.html">ParamCommand</a>
01343         {
01344         <span class="keyword">public</span>:
01345             <a class="code" href="namespaceOgre.html#a357">String</a> doGet(<span class="keyword">const</span> <span class="keywordtype">void</span>* target) <span class="keyword">const</span>;
01346             <span class="keywordtype">void</span> doSet(<span class="keywordtype">void</span>* target, <span class="keyword">const</span> <a class="code" href="namespaceOgre.html#a357">String</a>&amp; val);
01347         };
01348         <span class="comment">// Command object for setting / getting parameters</span>
<a name="l01349"></a><a class="code" href="classOgre_1_1GpuProgram.html#Ogre_1_1UnifiedHighLevelGpuProgramt1">01349</a>         <span class="keyword">static</span> CmdType msTypeCmd;
<a name="l01350"></a><a class="code" href="classOgre_1_1GpuProgram.html#Ogre_1_1UnifiedHighLevelGpuProgramt2">01350</a>         <span class="keyword">static</span> CmdSyntax msSyntaxCmd;
<a name="l01351"></a><a class="code" href="classOgre_1_1GpuProgram.html#Ogre_1_1UnifiedHighLevelGpuProgramt3">01351</a>         <span class="keyword">static</span> CmdSkeletal msSkeletalCmd;
<a name="l01352"></a><a class="code" href="classOgre_1_1GpuProgram.html#Ogre_1_1UnifiedHighLevelGpuProgramt4">01352</a>         <span class="keyword">static</span> CmdMorph msMorphCmd;
<a name="l01353"></a><a class="code" href="classOgre_1_1GpuProgram.html#Ogre_1_1UnifiedHighLevelGpuProgramt5">01353</a>         <span class="keyword">static</span> CmdPose msPoseCmd;
<a name="l01354"></a><a class="code" href="classOgre_1_1GpuProgram.html#Ogre_1_1UnifiedHighLevelGpuProgramt6">01354</a>         <span class="keyword">static</span> CmdVTF msVTFCmd;
01355     
<a name="l01357"></a><a class="code" href="classOgre_1_1GpuProgram.html#Ogre_1_1UnifiedHighLevelGpuProgramp6">01357</a>         <a class="code" href="namespaceOgre.html#a539">GpuProgramType</a> mType;
<a name="l01359"></a><a class="code" href="classOgre_1_1GpuProgram.html#Ogre_1_1UnifiedHighLevelGpuProgramp7">01359</a>         <a class="code" href="namespaceOgre.html#a357">String</a> mFilename;
<a name="l01361"></a><a class="code" href="classOgre_1_1GpuProgram.html#Ogre_1_1UnifiedHighLevelGpuProgramp8">01361</a>         <a class="code" href="namespaceOgre.html#a357">String</a> mSource;
<a name="l01363"></a><a class="code" href="classOgre_1_1GpuProgram.html#Ogre_1_1UnifiedHighLevelGpuProgramp9">01363</a>         <span class="keywordtype">bool</span> mLoadFromFile;
<a name="l01365"></a><a class="code" href="classOgre_1_1GpuProgram.html#Ogre_1_1UnifiedHighLevelGpuProgramp10">01365</a>         <a class="code" href="namespaceOgre.html#a357">String</a> mSyntaxCode;
<a name="l01367"></a><a class="code" href="classOgre_1_1GpuProgram.html#Ogre_1_1UnifiedHighLevelGpuProgramp11">01367</a>         <span class="keywordtype">bool</span> mSkeletalAnimation;
<a name="l01369"></a><a class="code" href="classOgre_1_1GpuProgram.html#Ogre_1_1UnifiedHighLevelGpuProgramp12">01369</a>         <span class="keywordtype">bool</span> mMorphAnimation;
<a name="l01371"></a><a class="code" href="classOgre_1_1GpuProgram.html#Ogre_1_1UnifiedHighLevelGpuProgramp13">01371</a>         <a class="code" href="namespaceOgre.html#a353">ushort</a> mPoseAnimation;
<a name="l01373"></a><a class="code" href="classOgre_1_1GpuProgram.html#Ogre_1_1UnifiedHighLevelGpuProgramp14">01373</a>         <span class="keywordtype">bool</span> mVertexTextureFetch;
<a name="l01375"></a><a class="code" href="classOgre_1_1GpuProgram.html#Ogre_1_1UnifiedHighLevelGpuProgramp15">01375</a>         <a class="code" href="classOgre_1_1SharedPtr.html">GpuProgramParametersSharedPtr</a> mDefaultParams;
<a name="l01377"></a><a class="code" href="classOgre_1_1GpuProgram.html#Ogre_1_1UnifiedHighLevelGpuProgramp16">01377</a>         <span class="keywordtype">bool</span> mPassSurfaceAndLightStates;
<a name="l01379"></a><a class="code" href="classOgre_1_1GpuProgram.html#Ogre_1_1UnifiedHighLevelGpuProgramp17">01379</a>         <span class="keywordtype">bool</span> mCompileError;
<a name="l01382"></a><a class="code" href="classOgre_1_1GpuProgram.html#Ogre_1_1UnifiedHighLevelGpuProgramp18">01382</a>         <span class="keyword">mutable</span> <a class="code" href="structOgre_1_1GpuLogicalBufferStruct.html">GpuLogicalBufferStruct</a> mFloatLogicalToPhysical;
<a name="l01385"></a><a class="code" href="classOgre_1_1GpuProgram.html#Ogre_1_1UnifiedHighLevelGpuProgramp19">01385</a>         <span class="keyword">mutable</span> <a class="code" href="structOgre_1_1GpuLogicalBufferStruct.html">GpuLogicalBufferStruct</a> mIntLogicalToPhysical;
01386 
01395         <span class="keywordtype">void</span> setupBaseParamDictionary(<span class="keywordtype">void</span>);
01396 
01399         <span class="keywordtype">bool</span> isRequiredCapabilitiesSupported(<span class="keywordtype">void</span>) <span class="keyword">const</span>;
01400 
<a name="l01402"></a><a class="code" href="classOgre_1_1GpuProgram.html#Ogre_1_1UnifiedHighLevelGpuProgramb13">01402</a>         size_t calculateSize(<span class="keywordtype">void</span>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> 0; } <span class="comment">// TODO </span>
01403 
01405         <span class="keywordtype">void</span> loadImpl(<span class="keywordtype">void</span>);
01406     <span class="keyword">public</span>:
01407 
01408         GpuProgram(<a class="code" href="classOgre_1_1ResourceManager.html">ResourceManager</a>* creator, <span class="keyword">const</span> String&amp; name, ResourceHandle handle,
01409             <span class="keyword">const</span> String&amp; group, <span class="keywordtype">bool</span> isManual = <span class="keyword">false</span>, <a class="code" href="classOgre_1_1ManualResourceLoader.html">ManualResourceLoader</a>* loader = 0);
01410 
<a name="l01411"></a><a class="code" href="classOgre_1_1GpuProgram.html#Ogre_1_1GpuPrograma1">01411</a>         <span class="keyword">virtual</span> ~GpuProgram() {}
01412 
01417         <span class="keyword">virtual</span> <span class="keywordtype">void</span> setSourceFile(<span class="keyword">const</span> String&amp; filename);
01418 
01423         <span class="keyword">virtual</span> <span class="keywordtype">void</span> setSource(<span class="keyword">const</span> String&amp; source);
01424 
<a name="l01426"></a><a class="code" href="classOgre_1_1GpuProgram.html#Ogre_1_1UnifiedHighLevelGpuPrograma35">01426</a>         <span class="keyword">virtual</span> <span class="keyword">const</span> <a class="code" href="namespaceOgre.html#a357">String</a>&amp; getSyntaxCode(<span class="keywordtype">void</span>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> mSyntaxCode; }
01427 
01429         <span class="keyword">virtual</span> <span class="keywordtype">void</span> setSyntaxCode(<span class="keyword">const</span> String&amp; syntax);
01430 
<a name="l01432"></a><a class="code" href="classOgre_1_1GpuProgram.html#Ogre_1_1UnifiedHighLevelGpuPrograma37">01432</a>         <span class="keyword">virtual</span> <span class="keyword">const</span> <a class="code" href="namespaceOgre.html#a357">String</a>&amp; getSourceFile(<span class="keywordtype">void</span>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> mFilename; }
<a name="l01434"></a><a class="code" href="classOgre_1_1GpuProgram.html#Ogre_1_1UnifiedHighLevelGpuPrograma38">01434</a>         <span class="keyword">virtual</span> <span class="keyword">const</span> <a class="code" href="namespaceOgre.html#a357">String</a>&amp; getSource(<span class="keywordtype">void</span>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> mSource; }
01436         <span class="keyword">virtual</span> <span class="keywordtype">void</span> setType(GpuProgramType t);
<a name="l01438"></a><a class="code" href="classOgre_1_1GpuProgram.html#Ogre_1_1UnifiedHighLevelGpuPrograma40">01438</a>         <span class="keyword">virtual</span> <a class="code" href="namespaceOgre.html#a539">GpuProgramType</a> getType(<span class="keywordtype">void</span>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> mType; }
01439 
<a name="l01444"></a><a class="code" href="classOgre_1_1GpuProgram.html#Ogre_1_1GpuPrograma10">01444</a>         <span class="keyword">virtual</span> GpuProgram* _getBindingDelegate(<span class="keywordtype">void</span>) { <span class="keywordflow">return</span> <span class="keyword">this</span>; }
01445 
01447         <span class="keyword">virtual</span> <span class="keywordtype">bool</span> isSupported(<span class="keywordtype">void</span>) <span class="keyword">const</span>;
01448 
01456         <span class="keyword">virtual</span> <a class="code" href="classOgre_1_1SharedPtr.html">GpuProgramParametersSharedPtr</a> createParameters(<span class="keywordtype">void</span>);
01457 
<a name="l01464"></a><a class="code" href="classOgre_1_1GpuProgram.html#Ogre_1_1UnifiedHighLevelGpuPrograma41">01464</a>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> setSkeletalAnimationIncluded(<span class="keywordtype">bool</span> included) 
01465         { mSkeletalAnimation = included; }
01466 
<a name="l01473"></a><a class="code" href="classOgre_1_1GpuProgram.html#Ogre_1_1HighLevelGpuPrograma15">01473</a>         <span class="keyword">virtual</span> <span class="keywordtype">bool</span> isSkeletalAnimationIncluded(<span class="keywordtype">void</span>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> mSkeletalAnimation; }
01474 
<a name="l01481"></a><a class="code" href="classOgre_1_1GpuProgram.html#Ogre_1_1UnifiedHighLevelGpuPrograma42">01481</a>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> setMorphAnimationIncluded(<span class="keywordtype">bool</span> included) 
01482         { mMorphAnimation = included; }
01483 
<a name="l01491"></a><a class="code" href="classOgre_1_1GpuProgram.html#Ogre_1_1UnifiedHighLevelGpuPrograma43">01491</a>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> setPoseAnimationIncluded(ushort poseCount) 
01492         { mPoseAnimation = poseCount; }
01493 
<a name="l01500"></a><a class="code" href="classOgre_1_1GpuProgram.html#Ogre_1_1HighLevelGpuPrograma18">01500</a>         <span class="keyword">virtual</span> <span class="keywordtype">bool</span> isMorphAnimationIncluded(<span class="keywordtype">void</span>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> mMorphAnimation; }
01501 
<a name="l01508"></a><a class="code" href="classOgre_1_1GpuProgram.html#Ogre_1_1HighLevelGpuPrograma19">01508</a>         <span class="keyword">virtual</span> <span class="keywordtype">bool</span> isPoseAnimationIncluded(<span class="keywordtype">void</span>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> mPoseAnimation &gt; 0; }
<a name="l01512"></a><a class="code" href="classOgre_1_1GpuProgram.html#Ogre_1_1UnifiedHighLevelGpuPrograma44">01512</a>         <span class="keyword">virtual</span> <a class="code" href="namespaceOgre.html#a353">ushort</a> getNumberOfPosesIncluded(<span class="keywordtype">void</span>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> mPoseAnimation; }
<a name="l01516"></a><a class="code" href="classOgre_1_1GpuProgram.html#Ogre_1_1UnifiedHighLevelGpuPrograma45">01516</a>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> setVertexTextureFetchRequired(<span class="keywordtype">bool</span> r) { mVertexTextureFetch = r; }
<a name="l01520"></a><a class="code" href="classOgre_1_1GpuProgram.html#Ogre_1_1HighLevelGpuPrograma22">01520</a>         <span class="keyword">virtual</span> <span class="keywordtype">bool</span> isVertexTextureFetchRequired(<span class="keywordtype">void</span>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> mVertexTextureFetch; }
01521 
01532         <span class="keyword">virtual</span> <a class="code" href="classOgre_1_1SharedPtr.html">GpuProgramParametersSharedPtr</a> getDefaultParameters(<span class="keywordtype">void</span>);
01533 
<a name="l01536"></a><a class="code" href="classOgre_1_1GpuProgram.html#Ogre_1_1HighLevelGpuPrograma24">01536</a>         <span class="keyword">virtual</span> <span class="keywordtype">bool</span> hasDefaultParameters(<span class="keywordtype">void</span>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> !mDefaultParams.isNull(); }
01537 
<a name="l01546"></a><a class="code" href="classOgre_1_1GpuProgram.html#Ogre_1_1UnifiedHighLevelGpuPrograma46">01546</a>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> setSurfaceAndPassLightStates(<span class="keywordtype">bool</span> state)
01547             { mPassSurfaceAndLightStates = state; }
01548 
<a name="l01552"></a><a class="code" href="classOgre_1_1GpuProgram.html#Ogre_1_1HighLevelGpuPrograma26">01552</a>         <span class="keyword">virtual</span> <span class="keywordtype">bool</span> getPassSurfaceAndLightStates(<span class="keywordtype">void</span>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> mPassSurfaceAndLightStates; }
01553 
01557         <span class="keyword">virtual</span> <span class="keyword">const</span> <a class="code" href="namespaceOgre.html#a357">String</a>&amp; getLanguage(<span class="keywordtype">void</span>) <span class="keyword">const</span>;
01558 
<a name="l01561"></a><a class="code" href="classOgre_1_1GpuProgram.html#Ogre_1_1HighLevelGpuPrograma28">01561</a>         <span class="keyword">virtual</span> <span class="keywordtype">bool</span> hasCompileError(<span class="keywordtype">void</span>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> mCompileError; }
01562 
<a name="l01565"></a><a class="code" href="classOgre_1_1GpuProgram.html#Ogre_1_1HighLevelGpuPrograma29">01565</a>         <span class="keyword">virtual</span> <span class="keywordtype">void</span> resetCompileError(<span class="keywordtype">void</span>) { mCompileError = <span class="keyword">false</span>; }
01566     <span class="keyword">protected</span>:
01568         <span class="keyword">virtual</span> <span class="keywordtype">void</span> loadFromSource(<span class="keywordtype">void</span>) = 0;
01569 
01570     };
01571 
01572 
<a name="l01579"></a><a class="code" href="classOgre_1_1GpuProgramPtr.html">01579</a>     <span class="keyword">class </span><a class="code" href="OgrePlatform_8h.html#a16">_OgreExport</a> GpuProgramPtr : <span class="keyword">public</span> <a class="code" href="classOgre_1_1SharedPtr.html">SharedPtr</a>&lt;GpuProgram&gt; 
01580     {
01581     <span class="keyword">public</span>:
<a name="l01582"></a><a class="code" href="classOgre_1_1GpuProgramPtr.html#Ogre_1_1GpuProgramPtra0">01582</a>         GpuProgramPtr() : <a class="code" href="classOgre_1_1SharedPtr.html">SharedPtr</a>&lt;GpuProgram&gt;() {}
<a name="l01583"></a><a class="code" href="classOgre_1_1GpuProgramPtr.html#Ogre_1_1GpuProgramPtra1">01583</a>         <span class="keyword">explicit</span> GpuProgramPtr(GpuProgram* rep) : <a class="code" href="classOgre_1_1SharedPtr.html">SharedPtr</a>&lt;GpuProgram&gt;(rep) {}
<a name="l01584"></a><a class="code" href="classOgre_1_1GpuProgramPtr.html#Ogre_1_1GpuProgramPtra2">01584</a>         GpuProgramPtr(<span class="keyword">const</span> GpuProgramPtr&amp; r) : <a class="code" href="classOgre_1_1SharedPtr.html">SharedPtr</a>&lt;GpuProgram&gt;(r) {} 
<a name="l01585"></a><a class="code" href="classOgre_1_1GpuProgramPtr.html#Ogre_1_1GpuProgramPtra3">01585</a>         GpuProgramPtr(<span class="keyword">const</span> <a class="code" href="classOgre_1_1SharedPtr.html">ResourcePtr</a>&amp; r) : <a class="code" href="classOgre_1_1SharedPtr.html">SharedPtr</a>&lt;GpuProgram&gt;()
01586         {
01587             <span class="comment">// lock &amp; copy other mutex pointer</span>
01588             <a class="code" href="OgrePrerequisites_8h.html#a24">OGRE_MUTEX_CONDITIONAL</a>(r.OGRE_AUTO_MUTEX_NAME)
01589             {
01590                 <a class="code" href="OgrePrerequisites_8h.html#a16">OGRE_LOCK_MUTEX</a>(*r.OGRE_AUTO_MUTEX_NAME)
01591                 <a class="code" href="OgrePrerequisites_8h.html#a22">OGRE_COPY_AUTO_SHARED_MUTEX</a>(r.OGRE_AUTO_MUTEX_NAME)
01592                 pRep = static_cast&lt;GpuProgram*&gt;(r.getPointer());
01593                 pUseCount = r.useCountPointer();
01594                 <span class="keywordflow">if</span> (pUseCount)
01595                 {
01596                     ++(*pUseCount);
01597                 }
01598             }
01599         }
01600 
<a name="l01602"></a><a class="code" href="classOgre_1_1GpuProgramPtr.html#Ogre_1_1GpuProgramPtra4">01602</a>         GpuProgramPtr&amp; operator=(<span class="keyword">const</span> <a class="code" href="classOgre_1_1SharedPtr.html">ResourcePtr</a>&amp; r)
01603         {
01604             <span class="keywordflow">if</span> (pRep == static_cast&lt;GpuProgram*&gt;(r.getPointer()))
01605                 <span class="keywordflow">return</span> *<span class="keyword">this</span>;
01606             release();
01607             <span class="comment">// lock &amp; copy other mutex pointer</span>
01608             <a class="code" href="OgrePrerequisites_8h.html#a24">OGRE_MUTEX_CONDITIONAL</a>(r.OGRE_AUTO_MUTEX_NAME)
01609             {
01610                 <a class="code" href="OgrePrerequisites_8h.html#a16">OGRE_LOCK_MUTEX</a>(*r.OGRE_AUTO_MUTEX_NAME)
01611                 <a class="code" href="OgrePrerequisites_8h.html#a22">OGRE_COPY_AUTO_SHARED_MUTEX</a>(r.OGRE_AUTO_MUTEX_NAME)
01612                 pRep = static_cast&lt;GpuProgram*&gt;(r.getPointer());
01613                 pUseCount = r.useCountPointer();
01614                 <span class="keywordflow">if</span> (pUseCount)
01615                 {
01616                     ++(*pUseCount);
01617                 }
01618             }
01619             <span class="keywordflow">else</span>
01620             {
01621                 <span class="comment">// RHS must be a null pointer</span>
01622                 assert(r.isNull() &amp;&amp; <span class="stringliteral">"RHS must be null if it has no mutex!"</span>);
01623                 setNull();
01624             }
01625             <span class="keywordflow">return</span> *<span class="keyword">this</span>;
01626         }
01628         GpuProgramPtr&amp; operator=(<span class="keyword">const</span> <a class="code" href="classOgre_1_1HighLevelGpuProgramPtr.html">HighLevelGpuProgramPtr</a>&amp; r);
01629     };
01630 }
01631 
01632 <span class="preprocessor">#endif</span>
</pre></div><hr>
<p>
Copyright &copy; 2000-2005 by The OGRE Team<br />
<!--Creative Commons License--><a rel="license" href="http://creativecommons.org/licenses/by-sa/2.5/"><img alt="Creative Commons License" border="0" src="http://creativecommons.org/images/public/somerights20.png"/></a><br/>
This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/2.5/">Creative Commons Attribution-ShareAlike 2.5 License</a>.<br/>
		<!--/Creative Commons License--><!-- <rdf:RDF xmlns="http://web.resource.org/cc/" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
		<Work rdf:about="">
			<license rdf:resource="http://creativecommons.org/licenses/by-sa/2.5/" />
	<dc:type rdf:resource="http://purl.org/dc/dcmitype/Text" />
		</Work>
		<License rdf:about="http://creativecommons.org/licenses/by-sa/2.5/"><permits rdf:resource="http://web.resource.org/cc/Reproduction"/><permits rdf:resource="http://web.resource.org/cc/Distribution"/><requires rdf:resource="http://web.resource.org/cc/Notice"/><requires rdf:resource="http://web.resource.org/cc/Attribution"/><permits rdf:resource="http://web.resource.org/cc/DerivativeWorks"/><requires rdf:resource="http://web.resource.org/cc/ShareAlike"/></License></rdf:RDF> -->

Last modified Sun Sep 30 10:50:56 2007
</p>
</body>
</html>
